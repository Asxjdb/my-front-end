
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="MyFontEnd">
      
      
        <link rel="canonical" href="https://asxjdb.github.io/my-front-end/JavaScript/">
      
      
        <link rel="prev" href="../CSS/">
      
      
        <link rel="next" href="../Node/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.25">
    
    
      
        <title>JavaScript - 我的前端笔记</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto Slab";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href=".." title="我的前端笔记" class="md-header__button md-logo" aria-label="我的前端笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            我的前端笔记
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              JavaScript
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="deep-purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="cyan" data-md-color-accent="deep-purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/asxjdb/my-front-end/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Asxjdb/my-front-end
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="我的前端笔记" class="md-nav__button md-logo" aria-label="我的前端笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    我的前端笔记
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/asxjdb/my-front-end/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Asxjdb/my-front-end
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../HTML/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTML
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../CSS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSS
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    JavaScript
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    JavaScript
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      基础语法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="基础语法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      控制语句
    </span>
  </a>
  
    <nav class="md-nav" aria-label="控制语句">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#for-in" class="md-nav__link">
    <span class="md-ellipsis">
      for ... in
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for-of" class="md-nav__link">
    <span class="md-ellipsis">
      for ... of
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      异常处理
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      函数
    </span>
  </a>
  
    <nav class="md-nav" aria-label="函数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      自调用函数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      匿名函数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      箭头函数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      回调模式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      闭包
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      面向对象
    </span>
  </a>
  
    <nav class="md-nav" aria-label="面向对象">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#this" class="md-nav__link">
    <span class="md-ellipsis">
      this
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class" class="md-nav__link">
    <span class="md-ellipsis">
      Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      内置构造函数
    </span>
  </a>
  
    <nav class="md-nav" aria-label="内置构造函数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#object" class="md-nav__link">
    <span class="md-ellipsis">
      Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array" class="md-nav__link">
    <span class="md-ellipsis">
      Array
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string" class="md-nav__link">
    <span class="md-ellipsis">
      String
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      分割方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#number" class="md-nav__link">
    <span class="md-ellipsis">
      Number
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function" class="md-nav__link">
    <span class="md-ellipsis">
      Function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map" class="md-nav__link">
    <span class="md-ellipsis">
      Map
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set" class="md-nav__link">
    <span class="md-ellipsis">
      Set
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      构造函数与原型
    </span>
  </a>
  
    <nav class="md-nav" aria-label="构造函数与原型">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      对象原型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      继承
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      原型链
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      异步
    </span>
  </a>
  
    <nav class="md-nav" aria-label="异步">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      回调函数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#promise" class="md-nav__link">
    <span class="md-ellipsis">
      Promise
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Promise">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      解决回调地狱1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#promise_1" class="md-nav__link">
    <span class="md-ellipsis">
      Promise方法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#async-await" class="md-nav__link">
    <span class="md-ellipsis">
      async / await
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      事件循环
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-api" class="md-nav__link">
    <span class="md-ellipsis">
      Web API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Web API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    <span class="md-ellipsis">
      基础API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      节点操作
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows" class="md-nav__link">
    <span class="md-ellipsis">
      windows对象
    </span>
  </a>
  
    <nav class="md-nav" aria-label="windows对象">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#location" class="md-nav__link">
    <span class="md-ellipsis">
      location对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navigator" class="md-nav__link">
    <span class="md-ellipsis">
      navigator对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#history" class="md-nav__link">
    <span class="md-ellipsis">
      history对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#localstorage" class="md-nav__link">
    <span class="md-ellipsis">
      localStorage对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sessionstorage" class="md-nav__link">
    <span class="md-ellipsis">
      sessionStorage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#js" class="md-nav__link">
    <span class="md-ellipsis">
      JS高阶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="JS高阶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      深浅 / 拷贝
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      异常处理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#this_1" class="md-nav__link">
    <span class="md-ellipsis">
      this指向
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      防抖&amp;节流
    </span>
  </a>
  
    <nav class="md-nav" aria-label="防抖&节流">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      防抖
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      节流
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      记录播放位置案例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      柯里化
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      杂项
    </span>
  </a>
  
    <nav class="md-nav" aria-label="杂项">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#json" class="md-nav__link">
    <span class="md-ellipsis">
      JSON
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void" class="md-nav__link">
    <span class="md-ellipsis">
      Void
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      正则表达式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    <span class="md-ellipsis">
      模块
    </span>
  </a>
  
    <nav class="md-nav" aria-label="模块">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import" class="md-nav__link">
    <span class="md-ellipsis">
      import
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export-default" class="md-nav__link">
    <span class="md-ellipsis">
      export default
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export-import" class="md-nav__link">
    <span class="md-ellipsis">
      export 与 import 的复合写法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    <span class="md-ellipsis">
      垃圾回收
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    <span class="md-ellipsis">
      解构赋值
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typescript" class="md-nav__link">
    <span class="md-ellipsis">
      TypeScript
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jquery" class="md-nav__link">
    <span class="md-ellipsis">
      jQuery
    </span>
  </a>
  
    <nav class="md-nav" aria-label="jQuery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      基础语法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dom" class="md-nav__link">
    <span class="md-ellipsis">
      操作DOM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dom_1" class="md-nav__link">
    <span class="md-ellipsis">
      修改DOM结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      事件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      动画
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Node/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Vue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vue
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%B0%8F%E6%BB%A1VUE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    小满VUE
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9D%82%E9%A1%B9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    杂项
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    蓝桥杯
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            蓝桥杯
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%93%9D%E6%A1%A5%E6%9D%AF/Index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%93%9D%E6%A1%A5%E6%9D%AF/22%E7%9C%81%E8%B5%9B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    22省赛
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%93%9D%E6%A1%A5%E6%9D%AF/23%E7%9C%81%E8%B5%9B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    23省赛
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%93%9D%E6%A1%A5%E6%9D%AF/24%E7%9C%81%E8%B5%9B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    24省赛
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%93%9D%E6%A1%A5%E6%9D%AF/22%E5%9B%BD%E8%B5%9B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    22国赛
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%93%9D%E6%A1%A5%E6%9D%AF/23%E5%9B%BD%E8%B5%9B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    23国赛
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%93%9D%E6%A1%A5%E6%9D%AF/22%E6%A8%A1%E6%8B%9F%E8%B5%9B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    22模拟赛1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%93%9D%E6%A1%A5%E6%9D%AF/23%E6%A8%A1%E6%8B%9F%E8%B5%9B1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    23模拟赛1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%93%9D%E6%A1%A5%E6%9D%AF/23%E6%A8%A1%E6%8B%9F%E8%B5%9B2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    23模拟赛2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%93%9D%E6%A1%A5%E6%9D%AF/23%E6%A8%A1%E6%8B%9F%E8%B5%9B3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    23模拟赛3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%93%9D%E6%A1%A5%E6%9D%AF/24%E6%A8%A1%E6%8B%9F%E8%B5%9B1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    24模拟赛1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%93%9D%E6%A1%A5%E6%9D%AF/24%E6%A8%A1%E6%8B%9F%E8%B5%9B2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    24模拟赛2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%93%9D%E6%A1%A5%E6%9D%AF/24%E6%A8%A1%E6%8B%9F%E8%B5%9B3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    24模拟赛3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%93%9D%E6%A1%A5%E6%9D%AF/%E7%AC%AC44%E6%9C%9F%E7%BA%BF%E4%B8%8A%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98%E8%B5%9B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    第44期线上编程实战赛
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%93%9D%E6%A1%A5%E6%9D%AF/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%BA%93/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    前端面试题库
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      基础语法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="基础语法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      控制语句
    </span>
  </a>
  
    <nav class="md-nav" aria-label="控制语句">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#for-in" class="md-nav__link">
    <span class="md-ellipsis">
      for ... in
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for-of" class="md-nav__link">
    <span class="md-ellipsis">
      for ... of
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      异常处理
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      函数
    </span>
  </a>
  
    <nav class="md-nav" aria-label="函数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      自调用函数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      匿名函数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      箭头函数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      回调模式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      闭包
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      面向对象
    </span>
  </a>
  
    <nav class="md-nav" aria-label="面向对象">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#this" class="md-nav__link">
    <span class="md-ellipsis">
      this
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class" class="md-nav__link">
    <span class="md-ellipsis">
      Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      内置构造函数
    </span>
  </a>
  
    <nav class="md-nav" aria-label="内置构造函数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#object" class="md-nav__link">
    <span class="md-ellipsis">
      Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array" class="md-nav__link">
    <span class="md-ellipsis">
      Array
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string" class="md-nav__link">
    <span class="md-ellipsis">
      String
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      分割方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#number" class="md-nav__link">
    <span class="md-ellipsis">
      Number
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function" class="md-nav__link">
    <span class="md-ellipsis">
      Function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map" class="md-nav__link">
    <span class="md-ellipsis">
      Map
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set" class="md-nav__link">
    <span class="md-ellipsis">
      Set
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      构造函数与原型
    </span>
  </a>
  
    <nav class="md-nav" aria-label="构造函数与原型">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      对象原型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      继承
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      原型链
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      异步
    </span>
  </a>
  
    <nav class="md-nav" aria-label="异步">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      回调函数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#promise" class="md-nav__link">
    <span class="md-ellipsis">
      Promise
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Promise">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      解决回调地狱1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#promise_1" class="md-nav__link">
    <span class="md-ellipsis">
      Promise方法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#async-await" class="md-nav__link">
    <span class="md-ellipsis">
      async / await
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      事件循环
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-api" class="md-nav__link">
    <span class="md-ellipsis">
      Web API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Web API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    <span class="md-ellipsis">
      基础API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      节点操作
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows" class="md-nav__link">
    <span class="md-ellipsis">
      windows对象
    </span>
  </a>
  
    <nav class="md-nav" aria-label="windows对象">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#location" class="md-nav__link">
    <span class="md-ellipsis">
      location对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navigator" class="md-nav__link">
    <span class="md-ellipsis">
      navigator对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#history" class="md-nav__link">
    <span class="md-ellipsis">
      history对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#localstorage" class="md-nav__link">
    <span class="md-ellipsis">
      localStorage对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sessionstorage" class="md-nav__link">
    <span class="md-ellipsis">
      sessionStorage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#js" class="md-nav__link">
    <span class="md-ellipsis">
      JS高阶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="JS高阶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      深浅 / 拷贝
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      异常处理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#this_1" class="md-nav__link">
    <span class="md-ellipsis">
      this指向
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      防抖&amp;节流
    </span>
  </a>
  
    <nav class="md-nav" aria-label="防抖&节流">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      防抖
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      节流
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      记录播放位置案例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      柯里化
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      杂项
    </span>
  </a>
  
    <nav class="md-nav" aria-label="杂项">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#json" class="md-nav__link">
    <span class="md-ellipsis">
      JSON
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void" class="md-nav__link">
    <span class="md-ellipsis">
      Void
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      正则表达式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    <span class="md-ellipsis">
      模块
    </span>
  </a>
  
    <nav class="md-nav" aria-label="模块">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#export" class="md-nav__link">
    <span class="md-ellipsis">
      export
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import" class="md-nav__link">
    <span class="md-ellipsis">
      import
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export-default" class="md-nav__link">
    <span class="md-ellipsis">
      export default
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export-import" class="md-nav__link">
    <span class="md-ellipsis">
      export 与 import 的复合写法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    <span class="md-ellipsis">
      垃圾回收
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    <span class="md-ellipsis">
      解构赋值
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#typescript" class="md-nav__link">
    <span class="md-ellipsis">
      TypeScript
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jquery" class="md-nav__link">
    <span class="md-ellipsis">
      jQuery
    </span>
  </a>
  
    <nav class="md-nav" aria-label="jQuery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      基础语法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dom" class="md-nav__link">
    <span class="md-ellipsis">
      操作DOM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dom_1" class="md-nav__link">
    <span class="md-ellipsis">
      修改DOM结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      事件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      动画
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>JavaScript</h1>

<h3 id="_1">基础语法<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<ul>
<li>变量声明：<code>let</code></li>
<li>常量声明：<code>const</code></li>
</ul>
<p>模板字符串</p>
<ul>
<li>``反引号包裹</li>
<li>内部用<code>${}</code>包住变量</li>
</ul>
<p>类型转换</p>
<ul>
<li><code>Number()</code></li>
<li><code>parseInt()</code></li>
<li><code>parseFloat()</code></li>
</ul>
<p>生命周期函数/立即执行函数：</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(){</span>
<span class="w">    </span><span class="c1">//function body</span>
<span class="p">})();</span><span class="c1">//加分号</span>

<span class="o">!</span><span class="kd">function</span><span class="w"> </span><span class="p">(){}()</span>
<span class="o">+</span><span class="kd">function</span><span class="w"> </span><span class="p">(){}()</span>
<span class="o">~</span><span class="kd">function</span><span class="w"> </span><span class="p">(){}()</span>
<span class="o">!</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(){})()</span>
<span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">形参</span><span class="p">){</span><span class="kd">function</span><span class="w"> </span><span class="nx">body</span><span class="p">}(</span><span class="nx">实参</span><span class="p">));</span>
</code></pre></div>
<p>对象：</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">person</span><span class="o">=</span><span class="p">{</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;andy&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">sayHi</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">(){</span>
<span class="w">        </span><span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;hi~~~~&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">song</span><span class="o">:</span><span class="p">......</span>
<span class="p">}</span>

<span class="c1">//调用</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">sayHi</span><span class="p">()</span>
</code></pre></div>
<ul>
<li>对象类型是浅拷贝</li>
</ul>
<h4 id="_2">控制语句<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h4>
<ul>
<li>支持<code>if, else, switch, case, while, do, for</code>，其用法和 C/C++ 语言几乎完全一致</li>
<li>还支持类似Python的迭代方法</li>
</ul>
<h5 id="for-in">for ... in<a class="headerlink" href="#for-in" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>for...in</code> 语句以**任意顺序**迭代一个对象的除 <code>symbol</code> 以外的**可枚举**属性，包括继承的可枚举属性。</p>
</li>
<li>
<p>可以遍历对象的键值</p>
</li>
</ul>
<h5 id="for-of">for ... of<a class="headerlink" href="#for-of" title="Permanent link">&para;</a></h5>
<ul>
<li>循环在可迭代对象（如 <code>Array</code>、<code>Map</code>、<code>Set</code>、<code>String</code>，自己创建可迭代对象可以参考<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Iteration_protocols">迭代协议</a>）上创建迭代循环，最常见的是对数组元素进行迭代</li>
<li>遍历数组</li>
</ul>
<h5 id="_3">异常处理<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h5>
<p>JavaScript 的异常处理与 C++ 相似：</p>
<div class="highlight"><pre><span></span><code><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">someDangerousFunction</span><span class="p">();</span>
<span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;error occurred&#39;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="_4">函数<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<p>参考：<a href="https://docs.net9.org/languages/javascript/function/">清华大学计算机系科协技能引导文档</a></p>
<p>我们一般把 JavaScript 的函数也认为是一种变量，因为在 JavaScript 之中，函数的行为很大程度上和变量类似。</p>
<ul>
<li><code>arguments</code>是参数的数组</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">sum</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="nx">i</span><span class="p">)</span><span class="w"> </span><span class="nx">s</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">arguments</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">s</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sum</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">));</span><span class="w"> </span><span class="c1">// 6</span>
</code></pre></div>
<h5 id="_5">自调用函数<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Hello!!&quot;</span><span class="p">;</span><span class="w">      </span><span class="c1">// 我将调用自己</span>
<span class="p">})();</span>
</code></pre></div>
<h5 id="_6">匿名函数<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h5>
<ul>
<li>匿名函数的<code>this</code>: 匿名函数最经典的总结：就是谁调用匿名函数，匿名函数中的this就指向谁</li>
<li>匿名函数是有执行上下文，只是执行上下文是执行的时候传递过来，</li>
<li><a href="https://so.csdn.net/so/search?q=箭头函数&amp;spm=1001.2101.3001.7020">箭头函数</a>中的执行上下文是父级的执行上下文，匿名函数可以作为箭头函数的父级（详见例3）</li>
</ul>
<h5 id="_7">箭头函数<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h5>
<p>实际上箭头函数的设计很大程度上是为了解决 <code>this</code> 问题。</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nx">参数1</span><span class="p">,</span><span class="w"> </span><span class="nx">参数2</span><span class="p">,</span><span class="w"> </span><span class="err">…</span><span class="p">,</span><span class="w"> </span><span class="nx">参数N</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">函数声明</span><span class="w"> </span><span class="p">}</span>

<span class="p">(</span><span class="nx">参数1</span><span class="p">,</span><span class="w"> </span><span class="nx">参数2</span><span class="p">,</span><span class="w"> </span><span class="err">…</span><span class="p">,</span><span class="w"> </span><span class="nx">参数N</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">表达式</span><span class="p">(</span><span class="nx">单一</span><span class="p">)</span>
<span class="c1">// 相当于：(参数1, 参数2, …, 参数N) =&gt;{ return 表达式; }</span>
</code></pre></div>
<p>当只有一个参数时，圆括号是可选的：</p>
<div class="highlight"><pre><span></span><code>(单一参数) =&gt; {函数声明}
单一参数 =&gt; {函数声明}
</code></pre></div>
<p>没有参数的函数应该写成一对圆括号:</p>
<div class="highlight"><pre><span></span><code><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="nx">函数声明</span><span class="p">}</span>
</code></pre></div>
<p>如果想返回一个对象，应该在函数体外面套一层小括号，防止解析错误</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">num</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">({</span><span class="nx">num</span><span class="o">:</span><span class="w"> </span><span class="nx">num</span><span class="p">})</span>
</code></pre></div>
<p>箭头函数不会创建自己的this,它只会从自己的作用域链的上一层沿用this。</p>
<blockquote>
<p>箭头函数和 <code>function</code> 函数最大不同的地方是其 <code>this</code> 的指向跟随上下文的 <code>this</code>，也就是说其本身不具有 <code>this</code>，在箭头函数体里使用的 <code>this</code> 实际上是其上下文（一般是其所在的函数作用域）的 <code>this</code>。换句话说，<strong>箭头函数的 <code>this</code> 在定义的时候就完成了绑定</strong>，这样的性质就解决了 <code>this</code> 指向不明的问题。</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

<span class="nx">foo</span><span class="p">();</span><span class="w"> </span><span class="c1">// window</span>

<span class="c1">// Changing caller will not change &#39;this&#39;</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">foo</span><span class="o">:</span><span class="w"> </span><span class="nx">foo</span><span class="p">,</span><span class="w"> </span><span class="p">};</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">();</span><span class="w"> </span><span class="c1">// window</span>

<span class="c1">// &#39;call&#39; &amp; &#39;bind&#39; may fail</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span><span class="w"> </span><span class="c1">// window</span>
<span class="nx">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">foo</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
<span class="nx">foo</span><span class="p">();</span><span class="w"> </span><span class="c1">// window</span>
</code></pre></div>
<p>在全局环境下设定的箭头函数的 <code>this</code> 永远跟随全局环境指向全局对象</p>
<h5 id="_8">回调模式<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h5>
<p>这个函数现在传进去但暂且不调用，需要的时候再调用</p>
<ol>
<li>遍历数组的操作<code>forEach</code></li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">val</span><span class="p">,</span><span class="w"> </span><span class="nx">ind</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`The elem with index </span><span class="si">${</span><span class="nx">ind</span><span class="si">}</span><span class="sb"> is </span><span class="si">${</span><span class="nx">val</span><span class="si">}</span><span class="sb">.\n`</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<ol>
<li>数组的映射函数 <code>map</code></li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="p">].</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">val</span><span class="p">;</span>
<span class="p">});</span><span class="w"> </span><span class="c1">// [2, 4, 6, 8]</span>
</code></pre></div>
<ol>
<li>
<p>数组的筛选方法 <code>filter</code></p>
</li>
<li>
<p><strong>创建一个新的数组</strong>，新数组中的元素是通过检查指定数组中符合条件的所有元素</p>
</li>
</ol>
<h5 id="_9">闭包<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p>概念：一个函数对周围状态的引用捆绑在一起，内层函数中访问到其外层函数的作用域</p>
</li>
<li>
<p>简单理解：<strong>闭包 = 内层函数 + 外层函数的变量</strong></p>
</li>
<li>
<p>作用：外部能够访问函数内部的变量</p>
</li>
<li>
<p>原因：引用的变量不会被GC立即释放（引用变量还能找到，所以不能释放）</p>
</li>
<li>
<p>弊端：内存泄漏</p>
</li>
<li>
<p>类比：</p>
</li>
<li>
<p>外层函数 → 类</p>
</li>
<li>内层函数 → 方法</li>
<li>引用变量 → public型数据，类所公有</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">outer</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">one</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">i</span><span class="o">++</span><span class="p">;</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kd">function</span><span class="w"> </span><span class="nx">two</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">i</span><span class="o">++</span><span class="p">;</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="nx">one</span><span class="p">,</span><span class="w"> </span><span class="nx">two</span><span class="p">];</span>
<span class="p">}</span>
<span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">one</span><span class="p">,</span><span class="w"> </span><span class="nx">two</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">outer</span><span class="p">();</span>

<span class="nx">one</span><span class="p">();</span><span class="w"> </span><span class="c1">// 2</span>
<span class="nx">one</span><span class="p">();</span><span class="w"> </span><span class="c1">// 3</span>
<span class="nx">two</span><span class="p">();</span><span class="w"> </span><span class="c1">// 4</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">lazy_sum</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">arr</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">sum</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>当我们调用<code>lazy_sum()</code>时，返回的并不是求和结果，而是求和函数：</p>
<div class="highlight"><pre><span></span><code>var f = lazy_sum([1, 2, 3, 4, 5]); // function sum()
</code></pre></div>
<p>调用函数<code>f</code>时，才真正计算求和的结果：</p>
<div class="highlight"><pre><span></span><code><span class="nx">f</span><span class="p">();</span><span class="w"> </span><span class="c1">// 15</span>
</code></pre></div>
<p>以下参考：<a href="https://docs.net9.org/languages/javascript/function/">清华大学计算机系科协技能引导文档</a></p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">getIncreaser</span><span class="p">(</span><span class="nx">increment</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">increment</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">increase5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getIncreaser</span><span class="p">(</span><span class="mf">5</span><span class="p">);</span>
<span class="nx">increase5</span><span class="p">(</span><span class="mf">10</span><span class="p">);</span><span class="w"> </span><span class="c1">// 15</span>
</code></pre></div>
<ul>
<li>
<p>闭包函数用来**创造函数**</p>
</li>
<li>
<p>上面，<code>getIncreaser</code> 会把 <code>increment</code> 变量包装在其返回的匿名函数之中，这样就形成了一个**闭包**。</p>
</li>
<li>
<p>闭包实际上就是一个函数和对其**周围状态（lexical environment，词法环境）的引用**捆绑在一起。</p>
</li>
</ul>
<p>这里要特别注意的是，闭包的所谓词法环境，指的是创建闭包时的**函数作用域**。</p>
<ol>
<li>比如这样就不会形成闭包</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">getCounters</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">3</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="nx">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">arr</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">i</span><span class="p">);</span><span class="w"> </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">arr</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">counters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getCounters</span><span class="p">();</span>
<span class="nx">counters</span><span class="p">[</span><span class="mf">0</span><span class="p">]();</span><span class="w"> </span><span class="c1">// 0</span>
<span class="nx">counters</span><span class="p">[</span><span class="mf">1</span><span class="p">]();</span><span class="w"> </span><span class="c1">// 1</span>
<span class="nx">counters</span><span class="p">[</span><span class="mf">2</span><span class="p">]();</span><span class="w"> </span><span class="c1">// 4</span>
</code></pre></div>
<ol>
<li>这样就会形成闭包</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">getCounters</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">3</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="nx">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">arr</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">i</span><span class="p">);</span><span class="w"> </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">arr</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">counters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getCounters</span><span class="p">();</span>
<span class="nx">counters</span><span class="p">[</span><span class="mf">0</span><span class="p">]();</span><span class="w"> </span><span class="c1">// 9</span>
<span class="nx">counters</span><span class="p">[</span><span class="mf">1</span><span class="p">]();</span><span class="w"> </span><span class="c1">// 9</span>
<span class="nx">counters</span><span class="p">[</span><span class="mf">2</span><span class="p">]();</span><span class="w"> </span><span class="c1">// 9</span>
</code></pre></div>
<ol>
<li>原因：变量的作用域不同。第一个变量<code>i</code>的作用域是<code>for</code>语句，第二个是函数作用域。</li>
</ol>
<p>在闭包捕获变量时，对局部作用域的变量会**复制**，而对函数作用域的变量会**引用**。</p>
<p>因此，通过在 <code>for</code> 语句中使用 <code>let</code> 声明变量，我们声明了局部变量，从而获得了期望的复制捕获行为。</p>
<p>此外需要注意的是，JavaScript 在任何情况下都不会帮你复制**对象**（上面被捕获的 <code>int</code> 是基本值而非对象），如果你的闭包捕获一个对象的值，无论这个对象的作用域如何，都会产生类似问题。事实上，这里并非基本值被特殊地对待，而是对象类型的变量存储的值是到实际对象的引用，因此在捕获时复制的是引用（浅拷贝）而非实际对象（深拷贝）。除非你明确地想要保存一些值，否则在构造闭包时请注意捕获实际的值，而非引用。</p>
<h3 id="_10">面向对象<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<blockquote>
<p>JavaScript 的面向对象的实现逻辑并非是类封装逻辑，而是原型链逻辑。最初的 JavaScript 并不支持类语法，但由于原型链实在太过于特立独行，目前 ES6 标准将类语法作为**语法糖**加入了语言标准。这也就是说，JavaScript 的面向对象的底层依然是原型链而非类封装，如果真的想弄明白 JavaScript 的原型链机制，可以查看文档末尾的原型链章节。但对于初学者，我们建议只是用类语法，除非遇到不可解决的 bug，否则不要花时间钻研原型链。</p>
</blockquote>
<h4 id="this">this<a class="headerlink" href="#this" title="Permanent link">&para;</a></h4>
<blockquote>
<p>作者：littleyu
链接：<a href="https://www.jianshu.com/p/ad22f8463afb">https://www.jianshu.com/p/ad22f8463afb</a></p>
</blockquote>
<p>JS（ES5）里面有三种函数调用形式：</p>
<div class="highlight"><pre><span></span><code><span class="nx">func</span><span class="p">(</span><span class="nx">p1</span><span class="p">,</span><span class="w"> </span><span class="nx">p2</span><span class="p">)</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">child</span><span class="p">.</span><span class="nx">method</span><span class="p">(</span><span class="nx">p1</span><span class="p">,</span><span class="w"> </span><span class="nx">p2</span><span class="p">)</span>
<span class="nx">func</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span><span class="w"> </span><span class="nx">p1</span><span class="p">,</span><span class="w"> </span><span class="nx">p2</span><span class="p">)</span>
</code></pre></div>
<p>只有第三种才是一般方式，前两种均为语法糖</p>
<p>context相当于python中的self,  是一个默认参数</p>
<p>前两种到第三种的变化方式：</p>
<div class="highlight"><pre><span></span><code><span class="nx">func</span><span class="p">(</span><span class="nx">p1</span><span class="p">,</span><span class="w"> </span><span class="nx">p2</span><span class="p">)</span><span class="w"> </span><span class="nx">等价于</span>
<span class="nx">func</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span><span class="w"> </span><span class="nx">p1</span><span class="p">,</span><span class="w"> </span><span class="nx">p2</span><span class="p">)</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">child</span><span class="p">.</span><span class="nx">method</span><span class="p">(</span><span class="nx">p1</span><span class="p">,</span><span class="w"> </span><span class="nx">p2</span><span class="p">)</span><span class="w"> </span><span class="nx">等价于</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">child</span><span class="p">.</span><span class="nx">method</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">child</span><span class="p">,</span><span class="w"> </span><span class="nx">p1</span><span class="p">,</span><span class="w"> </span><span class="nx">p2</span><span class="p">)</span>
</code></pre></div>
<p><mark>其中<code>context</code>就是<code>this</code></mark>,  即</p>
<ul>
<li>**函数**中，<code>this</code>为<code>undefined</code>，但被替换为<code>window</code></li>
<li><code>obj.method()</code>中，<code>this</code>为<code>obj</code></li>
</ul>
<p>总结：this 就是 call 的第一个参数</p>
<blockquote>
<p>来自：<a href="https://docs.net9.org/languages/javascript/oop/">清华大学计算机系科协技能引导文档</a></p>
</blockquote>
<ul>
<li>严格来说，JavaScript 的 <code>this</code> 指向规则只有一条，即 <strong><code>this</code> 永远指向最近的调用者</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">foo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">foo</span><span class="p">();</span><span class="w"> </span><span class="c1">// window</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">foo</span><span class="o">:</span><span class="w"> </span><span class="nx">foo</span><span class="p">,</span><span class="w"> </span><span class="p">};</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">();</span><span class="w"> </span><span class="c1">// { foo: foo }</span>
</code></pre></div>
<p>这里两次调用的都是同一个 <code>foo</code> 函数，不同的是前者是全局调用（即直接调用），而后者是把函数作为一个对象 <code>obj</code> 的属性后通过 <code>obj</code> 调用。而 <code>this</code> 的指向就是在函数调用的时候确定的。全局调用 <code>foo</code> 函数，那 <code>this</code> 就指向全局对象，通过 <code>obj</code> 调用，那 <code>this</code> 就指向 <code>obj</code>。</p>
<p>事实上 JavaScript 的全局变量都是全局对象的属性，每一个 JavaScript 运行环境都有一个全局对象。比如说浏览器的全局对象往往是 <code>window</code>，而 Node.js 的全局变量则是 <code>global</code>。你声明的每一个全局变量都会绑定为全局对象的属性（下述代码在浏览器运行）：</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span><span class="w"> </span><span class="c1">// 1</span>
</code></pre></div>
<p>而在全局环境下调用函数 <code>foo()</code>，实际上等价于通过全局对象在调用：</p>
<div class="highlight"><pre><span></span><code><span class="nx">foo</span><span class="p">();</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">foo</span><span class="p">();</span>
</code></pre></div>
<p>上述两个语句没有差别。</p>
<h4 id="class">Class<a class="headerlink" href="#class" title="Permanent link">&para;</a></h4>
<p>js的类是个语法糖</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">Pig</span><span class="p">(</span><span class="nx">_name</span><span class="p">,</span><span class="w"> </span><span class="nx">_age</span><span class="p">,</span><span class="w"> </span><span class="nx">_gender</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">_name</span><span class="p">;</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">_age</span><span class="p">;</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">gender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">_gender</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">peppa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Pig</span><span class="p">(</span><span class="s1">&#39;佩奇&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">18</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;female&#39;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">peppa</span><span class="p">);</span>
<span class="c1">// peppa.__proto__ === Pig.prototype</span>
</code></pre></div>
<p>这里使用 <code>new</code> 关键字调用构造函数，这种调用方式就区分了构造函数和普通函数。并且，构造函数内部不用我们再自己构造一个空对象，而是直接使用 <code>this</code> 对象，并且在使用 <code>new</code> 调用的时候，函数会自动将 <code>this</code> 返回。实际上，如果不用 <code>new</code> 关键字调用构造函数也是合法的，这样的话该函数将会作为普通函数执行并返回 <code>undefined</code>。</p>
<ol>
<li>实例成员</li>
<li>**在构造函数内部声明**的属性和方法被称为实例成员</li>
<li>静态成员</li>
<li>**在构造函数外部添加**的属性和方法被称为静态成员</li>
<li>**构造函数的属性和方法**被称为静态成员</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">Pig</span><span class="p">(</span><span class="nx">_name</span><span class="p">,</span><span class="w"> </span><span class="nx">_age</span><span class="p">,</span><span class="w"> </span><span class="nx">_gender</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 这些是实例成员</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">_name</span><span class="p">;</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">_age</span><span class="p">;</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">gender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">_gender</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// 静态成员</span>
<span class="nx">Pig</span><span class="p">.</span><span class="nx">eyes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2</span><span class="p">;</span>
<span class="nx">Pig</span><span class="p">.</span><span class="nx">arms</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2</span><span class="p">;</span>
<span class="nx">Pig</span><span class="p">.</span><span class="nx">walk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;walk&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="_11">内置构造函数<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h4>
<h5 id="object">Object<a class="headerlink" href="#object" title="Permanent link">&para;</a></h5>
<p>是内置的构造函数，用于创建普通对象</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Object</span><span class="p">({</span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;张三&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;18&#39;</span><span class="p">});</span>
</code></pre></div>
<p>静态方法：</p>
<ul>
<li><code>Object.keys(obj)</code>：获取<code>obj</code>的所有键，返回一个数组</li>
<li><code>Object.values(obj)</code>：获取<code>obj</code>的所有值，返回一个数组</li>
<li><code>Object.entries(obj)</code>：获取键值对，是一个嵌套的数组</li>
<li><code>Object.fromEntries(array)</code>：根据键值对数组，构造对象并返回</li>
<li><code>Object.assign(oo, o)</code>：把o拷贝给oo</li>
</ul>
<h5 id="array">Array<a class="headerlink" href="#array" title="Permanent link">&para;</a></h5>
<p><a href="https://zh.javascript.info/array-methods">https://zh.javascript.info/array-methods</a></p>
<p>实例方法：</p>
<table>
<thead>
<tr>
<th style="text-align: center;">方法</th>
<th style="text-align: center;">作用</th>
<th style="text-align: center;">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">forEach</td>
<td style="text-align: center;">遍历数组</td>
<td style="text-align: center;">不返回，用于只读值，经常用于查找打印输出值（仅遍历，只读）</td>
</tr>
<tr>
<td style="text-align: center;">filter</td>
<td style="text-align: center;">过滤数组</td>
<td style="text-align: center;">筛选数组元素，并生成新数组（筛选元素）</td>
</tr>
<tr>
<td style="text-align: center;">map</td>
<td style="text-align: center;">迭代数组</td>
<td style="text-align: center;">返回新数组，新数组里面的元素时处理之后的值，经常用于处理数据（遍历并生成新数组）</td>
</tr>
<tr>
<td style="text-align: center;">reduce</td>
<td style="text-align: center;">累积器</td>
<td style="text-align: center;">返回函数累计处理的结果，经常用于求和（遍历数组，返回一个值）</td>
</tr>
</tbody>
</table>
<p><code>reduce</code></p>
<ul>
<li>
<p><code>js
  arr.reduce(function(累计值， 当前元素 [，索引号][，原数组]){}, 起始值)</code></p>
</li>
<li>
<p>如果有起始值，则以起始值为准开始累计， 累计值 = 起始值</p>
</li>
<li>
<p>如果没有起始值， 则累计值以数组的第一个数组元素作为起始值开始累计</p>
</li>
<li>
<p>后面每次遍历就会用后面的数组元素 累计到 累计值 里面 （类似求和里面的 sum</p>
</li>
</ul>
<p>其他实例方法：</p>
<ol>
<li>
<p>实例方法 <code>join</code> 数组元素拼接为字符串，返回字符串(重点)</p>
</li>
<li>
<p>实例方法  <code>find(funciton)</code>  查找元素， 返回符合测试条件的第一个数组元素值，如果没有符合条件的则返回 undefined(重点)</p>
</li>
</ol>
<p><code>findIndex(function)</code>：类似上者，返回下标</p>
<ol>
<li>
<p>实例方法 <code>every</code> 检测数组所有元素是否都符合指定条件，如果**所有元素**都通过检测返回 true，否则返回 false(重点)</p>
</li>
<li>
<p>实例方法<code>some</code> 检测数组中的元素是否满足指定条件   **如果数组中有**元素满足条件返回 true，否则返回 false</p>
</li>
<li>
<p>实例方法 <code>concat</code>  合并两个数组，返回生成新数组</p>
</li>
<li>
<p>实例方法 <code>sort(function)</code> 对原数组单元值排序</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="c1">// 降序</span>
<span class="nx">arr</span><span class="p">.</span><span class="nx">sort</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)=&gt;</span><span class="nx">b</span><span class="o">-</span><span class="nx">a</span><span class="p">)</span>
</code></pre></div>
<ol>
<li>
<p>实例方法 <code>splice(start[, deleteCount, elem1, ..., elemN])</code> 删除或替换原数组单元</p>
</li>
<li>
<p>实例方法 <code>reverse</code> 反转数组</p>
</li>
<li>
<p>实例方法 <code>findIndex(item=&gt; item.id===target)</code>  查找元素的索引值</p>
</li>
<li>
<p><code>indexOf(target)</code>：元素下标，使用的是<code>===</code></p>
</li>
<li>
<p><code>includes()</code>：是否包含元素</p>
</li>
<li>
<p><a href="https://zh.javascript.info/array#poppushshiftunshift-fang-fa">pop/push, shift/unshift 方法</a></p>
<ul>
<li><code>push</code> 在末端添加一个元素， <code>pop</code>在末端移除元素</li>
<li><code>unshift</code>在首端添加元素，<code>shift</code> 取出队列首端的一个元素，整个队列往前移，这样原先排第二的元素现在排在了第一。</li>
</ul>
</li>
<li>
<p><code>indexOf(item, from)  lastIndexOf 和 includes</code></p>
</li>
<li>
<p><code>at()</code>  相当于索引，但接受负数</p>
</li>
</ol>
<p>静态方法</p>
<ol>
<li><code>from</code>把伪数组转换为真数组：<code>Array.from(list)</code>返回真数组</li>
<li><code>isArray</code>：Array基于Object，使用<code>typeof</code>会返回<code>Object</code></li>
</ol>
<h5 id="string">String<a class="headerlink" href="#string" title="Permanent link">&para;</a></h5>
<p><a href="https://zh.javascript.info/string">https://zh.javascript.info/string</a></p>
<ol>
<li>
<p>实例属性 <code>length</code> 用来获取字符串的度长(重点)</p>
</li>
<li>
<p>实例方法 <code>split('分隔符')</code> 用来将字符串拆分成数组(重点)</p>
</li>
<li>
<p>实例方法 <code>substring（需要截取的第一个字符的索引[,结束的索引号]）</code> 用于字符串截取(重点)</p>
</li>
<li>
<p>实例方法 <code>includes(搜索的字符串[, 检测位置索引号])</code> 判断一个字符串是否包含在另一个字符串中，根据情况返回 true 或 false(重点)</p>
</li>
<li>
<p>实例方法 <code>toUpperCase</code> 用于将字母转换成大写，<code>toLowerCase</code> 用于将就转换成小写</p>
</li>
<li>
<p><code>indexOf(subStr[, pos])</code> 返回子字符串开始位置，从pos开始检测，找不到就返回-1。</p>
</li>
</ol>
<p><code>lastIndexOf(substr, position)</code>，倒着检测</p>
<ol>
<li><code>startsWith</code>是否以某字符串开始</li>
</ol>
<p><code>endsWith</code> 检测是否以某字符结尾</p>
<ol>
<li>
<p>实例方法 <code>replace</code> 用于替换字符串，支持正则匹配</p>
</li>
<li>
<p>实例方法 <code>match</code> 用于查找字符串，支持正则匹配</p>
</li>
<li>
<p><code>padding</code>：填充</p>
<div class="highlight"><pre><span></span><code><span class="s1">&#39;x&#39;</span><span class="p">.</span><span class="nx">padStart</span><span class="p">(</span><span class="mf">4</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ab&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">//&#39;abax&#39;</span>
<span class="s1">&#39;x&#39;</span><span class="p">.</span><span class="nx">padEnd</span><span class="p">(</span><span class="mf">5</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ab&#39;</span><span class="p">);</span><span class="w">    </span><span class="c1">//&#39;xabab&#39;</span>
</code></pre></div>
</li>
<li>
<p><code>str.repeat(num)</code> 把一个字符串重复num次</p>
</li>
</ol>
<p>注：String 也可以当做普通函数使用，这时它的作用是强制转换成字符串数据类型。</p>
<h5 id="_12">分割方法<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h5>
<p>字符串（返回新字符串）：</p>
<ul>
<li><code>slice(start [, end])</code> 接受负值</li>
<li><code>substring(start [, end])</code> 负值被视为0</li>
<li>
<p><code>substr(start [, length])</code>  接收负值，第二个参数是长度</p>
</li>
<li>
<p><code>split(target)</code>：按照target分割字符串</p>
</li>
</ul>
<p>数组：</p>
<ul>
<li><code>arr.slice([start], [end])</code>  切片，支持负数，不改变原数组</li>
<li><code>arr.splice(start[, deleteCount, elem1, ..., elemN])</code>，删除后添加，支持负数，修改了原数组,返回删除的部分</li>
<li></li>
</ul>
<h5 id="number">Number<a class="headerlink" href="#number" title="Permanent link">&para;</a></h5>
<ul>
<li>实例方法 <code>toFixed</code> 用于设置保留小数位的长度：<code>num.toFixed(2)</code></li>
</ul>
<p><img alt="image-20230831145609880" src="image-20230831145609880.png" /></p>
<h5 id="function">Function<a class="headerlink" href="#function" title="Permanent link">&para;</a></h5>
<p>实例方法：</p>
<ol>
<li><code>toString</code>：得到函数的字符串，保留空白字符</li>
</ol>
<h5 id="map">Map<a class="headerlink" href="#map" title="Permanent link">&para;</a></h5>
<p><a href="https://zh.javascript.info/map-set">https://zh.javascript.info/map-set</a></p>
<p>对象只允许字符串和Symbol作为键，map允许任何类型的键（key），包括对象</p>
<ul>
<li>保留了插入时的顺序（object没有这个特性）</li>
</ul>
<p>API:</p>
<ul>
<li><code>new Map()</code> —— 创建 map。</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">recipeMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Map</span><span class="p">([</span>
<span class="w">  </span><span class="p">[</span><span class="s1">&#39;cucumber&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">500</span><span class="p">],</span>
<span class="w">  </span><span class="p">[</span><span class="s1">&#39;tomatoes&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">350</span><span class="p">],</span>
<span class="w">  </span><span class="p">[</span><span class="s1">&#39;onion&#39;</span><span class="p">,</span><span class="w">    </span><span class="mf">50</span><span class="p">]</span>
<span class="p">]);</span>
</code></pre></div>
<ul>
<li>也可以由普通对象创建：因为<code>Object.entries(obj)</code>返回了一个二维数组</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;John&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="mf">30</span>
<span class="p">};</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Map</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">entries</span><span class="p">(</span><span class="nx">obj</span><span class="p">));</span>
<span class="c1">// Object.entries 返回键/值对数组：[ [&quot;name&quot;,&quot;John&quot;], [&quot;age&quot;, 30] ]</span>

<span class="nx">alert</span><span class="p">(</span><span class="w"> </span><span class="nx">map</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
</code></pre></div>
<ul>
<li>相反，从map创建对象：<code>Object.fromEntries();</code>可以由二维数组得到对象</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Map</span><span class="p">();</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;banana&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">);</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;meat&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">4</span><span class="p">);</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">(</span><span class="nx">map</span><span class="p">.</span><span class="nx">entries</span><span class="p">());</span><span class="w"> </span><span class="c1">// 创建一个普通对象（plain object）(*)</span>

<span class="c1">// 简写：</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span><span class="w"> </span><span class="c1">// 省掉 .entries()</span>

<span class="c1">// 完成了！</span>
<span class="c1">// obj = { banana: 1, orange: 2, meat: 4 }</span>

<span class="nx">alert</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">orange</span><span class="p">);</span><span class="w"> </span><span class="c1">// 2</span>
</code></pre></div>
<ul>
<li>
<p><code>map.set(key, value)</code> —— 根据键存储值。</p>
</li>
<li>
<p><code>map.get(key)</code> —— 根据键来返回值，如果 <code>map</code> 中不存在对应的 <code>key</code>，则返回 <code>undefined</code>。</p>
</li>
<li>
<p><code>map.has(key)</code> —— 如果 <code>key</code> 存在则返回 <code>true</code>，否则返回 <code>false</code>。</p>
</li>
<li>
<p><code>map.delete(key)</code> —— 删除指定键的值。</p>
</li>
<li>
<p><code>map.clear()</code> —— 清空 map。</p>
</li>
<li>
<p><code>map.size</code> —— 返回当前元素个数。</p>
</li>
</ul>
<p>每一次 <code>map.set</code> 调用都会返回 map 本身，所以我们可以进行“链式”调用：</p>
<div class="highlight"><pre><span></span><code><span class="nx">map</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;str1&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;num1&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;bool1&#39;</span><span class="p">);</span>
</code></pre></div>
<p>迭代：</p>
<ul>
<li>
<p><code>map.keys()</code> —— 所有键的可迭代对象，</p>
</li>
<li>
<p><code>map.values()</code> —— 所有值的可迭代对象，</p>
</li>
<li>
<p><code>map.entries()</code> ——所有实体 <code>[key, value]</code> 的可迭代对象，<code>for..of</code> 在默认情况下使用的就是这个。</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">entry</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">recipeMap</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 与 recipeMap.entries() 相同</span>
<span class="w">  </span><span class="nx">alert</span><span class="p">(</span><span class="nx">entry</span><span class="p">);</span><span class="w"> </span><span class="c1">// cucumber,500 (and so on)</span>
<span class="p">}</span>
</code></pre></div>
<h5 id="set">Set<a class="headerlink" href="#set" title="Permanent link">&para;</a></h5>
<p><code>Set</code> 是一个特殊的类型集合 —— “值的集合”（没有键），它的每一个值只能出现一次。</p>
<p>API:</p>
<ul>
<li><code>new Set(iterable)</code> —— 创建一个 <code>set</code>，如果提供了一个 <code>iterable</code> 对象（通常是数组），将会从数组里面复制值到 <code>set</code> 中。</li>
<li><code>set.add(value)</code> —— 添加一个值，返回 set 本身</li>
<li><code>set.delete(value)</code> —— 删除值，如果 <code>value</code> 在这个方法调用的时候存在则返回 <code>true</code> ，否则返回 <code>false</code>。</li>
<li><code>set.has(value)</code> —— 如果 <code>value</code> 在 set 中，返回 <code>true</code>，否则返回 <code>false</code>。</li>
<li><code>set.clear()</code> —— 清空 set。</li>
<li><code>set.size</code> —— 返回元素个数。</li>
</ul>
<p><code>forEach</code> 的回调函数有**三个参数**：一个 <code>value</code>，然后是 <strong>同一个值</strong> <code>valueAgain</code>，最后是目标对象。这是为了兼容map</p>
<div class="highlight"><pre><span></span><code><span class="nx">set</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">value</span><span class="p">,</span><span class="w"> </span><span class="nx">valueAgain</span><span class="p">,</span><span class="w"> </span><span class="nx">set</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">alert</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><code>Map</code> 中用于迭代的方法在 <code>Set</code> 中也同样支持：</p>
<ul>
<li><code>set.keys()</code> —— 遍历并返回一个包含所有值的可迭代对象，</li>
<li><code>set.values()</code> —— 与 <code>set.keys()</code> 作用相同，这是为了兼容 <code>Map</code>，</li>
<li><code>set.entries()</code> —— 遍历并返回一个包含所有的实体 <code>[value, value]</code> 的可迭代对象，它的存在也是为了兼容 <code>Map</code>。</li>
</ul>
<p>案例：使用Set过滤重复元素</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">unique</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">[...</span><span class="ow">new</span><span class="w"> </span><span class="nb">Set</span><span class="p">(</span><span class="nx">arr</span><span class="p">)]</span>
<span class="p">}</span>
<span class="c1">// 或</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">unique</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nb">Array</span><span class="p">.</span><span class="kr">from</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nb">Set</span><span class="p">(</span><span class="nx">arr</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="_13">构造函数与原型<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">Star</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">ldh</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Star</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Star</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="kr">constructor</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">Star</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ldh</span><span class="p">.</span><span class="nx">__proto__</span><span class="p">.</span><span class="kr">constructor</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">Star</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ldh</span><span class="p">.</span><span class="nx">__proto__</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">Star</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
</code></pre></div>
<ul>
<li>
<p>构造函数通过原型分配的函数是所有对象 所 共享 的 。</p>
</li>
<li>
<p>JavaScript 规定， 每一个构造函数都有一个 prototype 属性 ，指向另一个 对象，所以我们也称为原型对象</p>
</li>
<li>
<p>这个对象可以 挂载函数，对象实例化不会多次创建原型上函数，节约内存</p>
</li>
<li>
<p>我们 可以把那些不变的方法，直接定义在 prototype 对象上，这样 所有对象的实例就可以共享这些方法 。</p>
</li>
<li>
<p>构造函数和原型对象中的 this 都指向 实例化的对象</p>
</li>
<li>
<p><code>__proto__</code>是对象的，<code>prototype</code>是类的</p>
</li>
</ul>
<p><img alt="image-20230831195224515" src="image-20230831195224515.png" /></p>
<ol>
<li>原型是什么</li>
<li>一个对象，我们也称为 prototype 为 原型对象</li>
<li>原型的作用是什么 </li>
<li>共享方法 可以把那些不变的方法，直接定义在 prototype 对象上</li>
<li>构造函数和原型里面的 this 指向谁 </li>
<li>实例化的对象</li>
</ol>
<h6 id="_14">对象原型<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h6>
<p>对象都会有一个属性<code>__proto__</code>指向构造函数的 prototype 原型对象，之所以 我们对象可以使用构造函数 prototype
原型对象的属性和方法，就是因为 对象有<code>__proto__</code>原型 的存在。</p>
<h6 id="_15">继承<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h6>
<ul>
<li><code>子类的prototype = new Person()</code></li>
</ul>
<h6 id="_16">原型链<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h6>
<p><img alt="image-20230831204903411" src="image-20230831204903411.png" /></p>
<p><code>instanceof</code>运算符用于检测构造函数的 prototype 属性是否出现在某个实例对象的原型链上</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">]</span><span class="w"> </span><span class="ow">instanceof</span><span class="w"> </span><span class="nb">Array</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nx">类</span><span class="p">.</span><span class="nx">prototype</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">对象</span><span class="p">.</span><span class="nx">__proto__</span>
</code></pre></div>
<p>他们指向同一个东西</p>
<p><mark>typeof 和 Object.getPrototypeOf()</mark></p>
<ul>
<li><strong>用途</strong>: <code>typeof</code>用于获取数据的类型，而<code>Object.getPrototypeOf()</code>用于获取对象的原型。</li>
<li><strong>返回值</strong>: <code>typeof</code>返回一个表示类型的字符串，<code>Object.getPrototypeOf()</code>返回一个对象（原型对象）。</li>
<li><strong>适用性</strong>: <code>typeof</code>对基本数据类型和区分函数与普通对象很有用。<code>Object.getPrototypeOf()</code>专用于对象，用于访问其原型链。</li>
</ul>
<h3 id="_17">异步<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<blockquote>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Asynchronous/Promises">参考资料</a>：<a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Asynchronous/Promises">https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Asynchronous/Promises</a></p>
<p><a href="https://docs.net9.org/languages/javascript/async/">https://docs.net9.org/languages/javascript/async/</a></p>
</blockquote>
<h4 id="_18">回调函数<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h4>
<p>事件处理程序是一种特殊类型的回调函数。</p>
<p>而回调函数则是**一个被传递到另一个函数中的会在适当的时候被调用的函数。**</p>
<p>正如我们刚刚所看到的：回调函数曾经是 JavaScript 中实现异步函数的主要方式。</p>
<blockquote>
<p>同步任务：都在主线程上执行，形成一个执行栈</p>
<p>异步任务：由回调函数实现，如时间、加载、定时器。</p>
<p>先执行同步，把异步放入队列中。同步执行完再执行异步</p>
<p>在详细叙述这个机制之前，我们首先需要重新认识一下回调函数。当主线程派遣出一个异步过程，比如说触发了网络请求，一般而言需要设定一个这个异步过程的回调函数。这个回调函数描述的，是这个异步过程执行完毕后需要做的事情。</p>
<p>需要定义这个回调函数的原因也很简单，主线程没有办法了解到异步过程何时才能结束，甚至并不清楚这个过程能否结束。在这样的情况下，主线程完全不能知晓什么时候做这个异步过程的善后工作（比如说从网络获取数据后，主线程应该把这些数据加载到页面上）。那么不如定义一个回调函数，具体什么时候调用，根据异步过程来确定。</p>
<p>回到事件循环和消息队列。JavaScript 的主线程上会有一个死循环，称为**事件循环**。其执行逻辑为在空闲的时候不断检查消息队列是否有消息，如果有，则执行，如果没有，则等待。而空闲的含义是当前函数栈空。</p>
<p>而需要异步执行的代码则会负载一个回调函数，当异步过程执行完毕后，则会把回调函数放入消息队列末尾。当主线程空闲且检测到消息队列之中有回调函数的时候，主线程就会执行回调函数，做好异步过程的善后工作。</p>
<p>通过这样的机制，JavaScript 依然是单线程的，对文档树的操作依然是同步的、不会出现冲突的。但依靠这个机制，JavaScript 实现了异步。</p>
</blockquote>
<h4 id="promise">Promise<a class="headerlink" href="#promise" title="Permanent link">&para;</a></h4>
<p><a href="https://docs.net9.org/languages/javascript/async/#promise">贵系科协技能引导文档Promise</a></p>
<div class="highlight"><pre><span></span><code><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">asyncSucceeded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.2</span><span class="p">;</span>
<span class="w">    </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">asyncSucceeded</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">resolve</span><span class="p">(</span><span class="s2">&quot;Async succeeded!&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">reject</span><span class="p">(</span><span class="s2">&quot;Async failed!&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
<span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Then&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Catch&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
</code></pre></div>
<p>其构造函数接受一个回调函数，这个回调函数的两个参数是另外的两个回调函数。</p>
<ul>
<li><code>resolve</code> 代表异步成功的回调函数，</li>
<li><code>reject</code> 代表异步失败的回调函数。</li>
<li>而构造函数接受的回调函数的函数体则是需要执行的耗时操作。</li>
</ul>
<p><code>Promise</code> 比直接写回调模式优越的地方就是这种写法解决了回调地狱。我们依然考虑依次获取多数据源数据的业务场景，由于 <code>then</code> 方法依然返回 <code>Promise</code> 对象，所以实际上我们可以在 <code>then</code> 后面接着调用 <code>then</code>。而上一个 <code>then</code> 之中的回调函数的返回值会被传入下一个 <code>then</code> 之中的回调函数的第一个参数：</p>
<div class="highlight"><pre><span></span><code><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Get Data #1</span>
<span class="w">    </span><span class="nx">resolve</span><span class="p">(</span><span class="s2">&quot;Data #1&quot;</span><span class="p">);</span>
<span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="w">        </span><span class="c1">// Get Data #2</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s2">&quot;Data #2&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="w">        </span><span class="c1">// Get Data #3</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s2">&quot;Data #3&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">);</span>
</code></pre></div>
<p>这种写法被称为 <code>then</code> 链，其好处是比回调函数写法更易读且易维护</p>
<p>另外，对于多依赖问题（需要多个异步全部结束后才能派遣下一个异步），<code>Promise</code> 提供了 <code>all</code> 方法：</p>
<div class="highlight"><pre><span></span><code><span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">].</span><span class="nx">map</span><span class="p">((</span><span class="nx">val</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">resolve</span><span class="p">(</span><span class="sb">`Promise #</span><span class="si">${</span><span class="nx">val</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">})</span>
<span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span><span class="w"> </span><span class="c1">// [&quot;Promise #1&quot;, &quot;Promise #2&quot;, &quot;Promise #3&quot;]</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{});</span>
</code></pre></div>
<p>这里 <code>then</code> 之中的回调函数接受的参数是所有 <code>Promise</code> 对象 <code>resolve</code> 回调所接受的参数拼成的数组，<code>catch</code> 同理。</p>
<p>另外，注意两点：</p>
<ul>
<li><code>Promise</code> 一旦创建，内部的异步过程就开始执行，且开始执行后就不会取消</li>
<li>创建 <code>Promise</code> 会写很多很长的回调，写完这些回调后很容易给编写者一种“异步已经执行结束”的错觉。实际上这么长的语句仅仅是**定义了 <code>Promise</code> 对象**，也就是仅仅只是派遣了异步。</li>
</ul>
<p>样例展示：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">incantations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;芝麻开门&quot;</span><span class="p">;</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">init</span><span class="p">(</span><span class="nx">el</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&quot;.wrapper .btn&quot;</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">mPrompt</span><span class="p">()</span>
<span class="w">      </span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">res</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">incantations</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nb">document</span>
<span class="w">            </span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">&quot;#door .doors&quot;</span><span class="p">)[</span><span class="mf">0</span><span class="p">]</span>
<span class="w">            </span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&quot;door-left&quot;</span><span class="p">);</span>
<span class="w">          </span><span class="nb">document</span>
<span class="w">            </span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">&quot;#door .doors&quot;</span><span class="p">)[</span><span class="mf">1</span><span class="p">]</span>
<span class="w">            </span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&quot;door-right&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">})</span>
<span class="w">      </span><span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">mPrompt</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">((</span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">rej</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#confirm&#39;</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">let</span><span class="w"> </span><span class="nx">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&quot;.message-body input&quot;</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
<span class="w">      </span><span class="nx">res</span><span class="p">(</span><span class="nx">input</span><span class="p">);</span>
<span class="w">      </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&quot;.modal&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#cancel&#39;</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">rej</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">      </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&quot;.modal&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">  </span><span class="p">})</span>
<span class="p">}</span>



<span class="c1">// 原理：</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">myPromise</span><span class="p">(){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">((</span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">rej</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// 处理处理</span>
<span class="w">        </span><span class="c1">// 阿巴阿巴</span>
<span class="w">        </span><span class="c1">// 处理成功：</span>
<span class="w">        </span><span class="nx">res</span><span class="p">(</span><span class="nx">a</span><span class="w"> </span><span class="nx">ba</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">ba</span><span class="p">);</span><span class="c1">//调用then中传入的函数</span>
<span class="w">        </span><span class="c1">// 处理失败</span>
<span class="w">        </span><span class="nx">rej</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span><span class="w"> </span><span class="c1">//调用catch中传入的函数</span>
<span class="w">    </span><span class="p">})</span>
<span class="p">}</span>

<span class="nx">myPromise</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">a</span><span class="w"> </span><span class="nx">ba</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">ba</span><span class="p">)=&gt;{</span>
<span class="w">        </span><span class="c1">// 阿巴阿巴</span>
<span class="w">        </span><span class="c1">// 这个就是res函数</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="k">catch</span><span class="p">(()=&gt;{</span>

<span class="w">    </span><span class="p">});</span>
<span class="c1">// 或者：</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">a</span><span class="p">(){};</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">b</span><span class="p">(){};</span>
<span class="nx">myPromise</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="k">catch</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">fetchPromise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;bad-scheme://mdn.github.io/learning-area/javascript/apis/fetching-data/can-store/products.json&#39;</span><span class="p">);</span>

<span class="nx">fetchPromise</span>
<span class="w">  </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`HTTP 请求错误：</span><span class="si">${</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="w">  </span><span class="p">})</span>
<span class="w">  </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="w"> </span><span class="nx">json</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">name</span><span class="p">);</span>
<span class="w">  </span><span class="p">})</span>
<span class="w">  </span><span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="w"> </span><span class="nx">error</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="sb">`无法获取产品列表：</span><span class="si">${</span><span class="nx">error</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">  </span><span class="p">});</span>
</code></pre></div>
<p>Promise 对象的构造器（constructor）语法如下：</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">promise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// executor（生产者代码，“歌手”）</span>
<span class="w">    </span><span class="nx">resolve</span><span class="p">(</span><span class="nx">aaa</span><span class="p">)</span>
<span class="p">});</span>
</code></pre></div>
<p>传递给 <code>new Promise</code> 的函数被称为 <strong>executor</strong>。当 <code>new Promise</code> 被创建，executor 会自动运行。</p>
<p>是成功还是失败，由写的代码决定：</p>
<ul>
<li>调用了<code>resolve</code>，就是成功</li>
<li>调用了<code>reject</code>，就是失败</li>
</ul>
<p><code>await promise</code>的返回值是<code>aaa</code></p>
<p><code>Promise</code> 的三种状态：</p>
<ul>
<li><strong>待定（pending）</strong>：初始状态，既没有被兑现，也没有被拒绝。这是调用 <code>fetch()</code> 返回 Promise 时的状态，此时请求还在进行中。</li>
<li><strong>已兑现（fulfilled）</strong>：意味着操作成功完成。当 Promise 完成时，它的 <code>then()</code> 处理函数被调用。</li>
<li><strong>已拒绝（rejected）</strong>：意味着操作失败。当一个 Promise 失败时，它的 <code>catch()</code> 处理函数被调用。</li>
<li><strong>已敲定（settled）</strong>:   这个词来同时表示 <strong>已兑现（fulfilled）</strong> 和 <strong>已拒绝（rejected）</strong> 两种情况。</li>
</ul>
<p><strong>promise传进去的函数会在遇到<code>.then</code>的时候执行</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// 1. 创建Promise对象-模拟请求省份名字</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;北京市&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mf">2000</span><span class="p">)</span>
<span class="p">})</span>

<span class="c1">// 2. 获取省份名字</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">p</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
<span class="w">    </span><span class="c1">// 3. 创建Promise对象-模拟请求城市名字</span>
<span class="w">    </span><span class="c1">// return Promise对象最终状态和结果，影响到新的Promise对象</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">resolve</span><span class="p">(</span><span class="nx">result</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;--- 北京&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="p">},</span><span class="w"> </span><span class="mf">2000</span><span class="p">)</span>
<span class="w">    </span><span class="p">})</span>
<span class="p">})</span>
</code></pre></div>
<p>执行到第9行的时候才会打印出<code>北京市</code></p>
<h5 id="1">解决回调地狱1<a class="headerlink" href="#1" title="Permanent link">&para;</a></h5>
<p>手动返回一个<code>Promise</code>对象</p>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm">     * 目标：把回调函数嵌套代码，改成Promise链式调用结构</span>
<span class="cm">     * 需求：获取默认第一个省，第一个市，第一个地区并展示在下拉菜单中</span>
<span class="cm">    */</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">pname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span>
<span class="c1">// 1. 得到-获取省份Promise对象</span>
<span class="nx">axios</span><span class="p">({</span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;http://hmajax.itheima.net/api/province&#39;</span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">pname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">list</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span>
<span class="w">    </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.province&#39;</span><span class="p">).</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">pname</span>
<span class="w">    </span><span class="c1">// 2. 得到-获取城市Promise对象</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">axios</span><span class="p">({</span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;http://hmajax.itheima.net/api/city&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">params</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">pname</span><span class="w"> </span><span class="p">}})</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">cname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">list</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span>
<span class="w">    </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.city&#39;</span><span class="p">).</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">cname</span>
<span class="w">    </span><span class="c1">// 3. 得到-获取地区Promise对象</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">axios</span><span class="p">({</span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;http://hmajax.itheima.net/api/area&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">params</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">pname</span><span class="p">,</span><span class="w"> </span><span class="nx">cname</span><span class="w"> </span><span class="p">}})</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">areaName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">list</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span>
<span class="w">    </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.area&#39;</span><span class="p">).</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">areaName</span>
<span class="p">})</span>
</code></pre></div>
<h5 id="promise_1">Promise方法<a class="headerlink" href="#promise_1" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Promise.all</code></li>
</ul>
<p>合并多个Promise 对象，等待所有 同时成功 完成（或某一个失败），做后续逻辑</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 1. 请求城市天气，得到Promise对象</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">bjPromise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">axios</span><span class="p">({</span><span class="w"> </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;http://hmajax.itheima.net/api/weather&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">params</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">city</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;110100&#39;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">shPromise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">axios</span><span class="p">({</span><span class="w"> </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;http://hmajax.itheima.net/api/weather&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">params</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">city</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;310100&#39;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">gzPromise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">axios</span><span class="p">({</span><span class="w"> </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;http://hmajax.itheima.net/api/weather&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">params</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">city</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;440100&#39;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">szPromise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">axios</span><span class="p">({</span><span class="w"> </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;http://hmajax.itheima.net/api/weather&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">params</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">city</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;440300&#39;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span>

<span class="c1">// 2. 使用Promise.all，合并多个Promise对象</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span><span class="nx">bjPromise</span><span class="p">,</span><span class="w"> </span><span class="nx">shPromise</span><span class="p">,</span><span class="w"> </span><span class="nx">gzPromise</span><span class="p">,</span><span class="w"> </span><span class="nx">szPromise</span><span class="p">])</span>
<span class="nx">p</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 注意：结果数组顺序和合并时顺序是一致</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">htmlStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">result</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="sb">`&lt;li&gt;</span><span class="si">${</span><span class="nx">item</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">area</span><span class="si">}</span><span class="sb"> --- </span><span class="si">${</span><span class="nx">item</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">weather</span><span class="si">}</span><span class="sb">&lt;/li&gt;`</span>
<span class="w">    </span><span class="p">}).</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.my-ul&#39;</span><span class="p">).</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">htmlStr</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></div>
<p>实现<code>Promise.all</code></p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">promise1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">resolve</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">resolve</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
<span class="p">});</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">promise2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">resolve</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">resolve</span><span class="p">(</span><span class="mf">2</span><span class="p">);</span>
<span class="p">});</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">promise3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">resolve</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">resolve</span><span class="p">(</span><span class="mf">3</span><span class="p">);</span>
<span class="p">});</span>
<span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="p">(</span><span class="nx">args</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">ans</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="w"> </span><span class="nx">element</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">element</span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">ans</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">res</span><span class="p">))</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">ans</span>
<span class="p">}</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">promiseAll</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span><span class="nx">promise1</span><span class="p">,</span><span class="w"> </span><span class="nx">promise2</span><span class="p">,</span><span class="w"> </span><span class="nx">promise3</span><span class="p">]);</span>
<span class="nx">promiseAll</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">});</span>


<span class="c1">// https://juejin.cn/post/6844903761505173512</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">promiseAll</span><span class="p">(</span><span class="nx">promises</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">promises</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">reject</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;arguments must be an array&#39;</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">resolvedCounter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">promiseNum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">promises</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">resolvedValues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Array</span><span class="p">(</span><span class="nx">promiseNum</span><span class="p">);</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">promiseNum</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">promises</span><span class="p">[</span><span class="nx">i</span><span class="p">]).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nx">resolvedCounter</span><span class="o">++</span>
<span class="w">                    </span><span class="nx">resolvedValues</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">value</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">resolvedCounter</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nx">promiseNum</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="k">return</span><span class="w"> </span><span class="nx">resolve</span><span class="p">(</span><span class="nx">resolvedValues</span><span class="p">)</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">},</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">reason</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="nx">reject</span><span class="p">(</span><span class="nx">reason</span><span class="p">)</span>
<span class="w">                </span><span class="p">})</span>
<span class="w">            </span><span class="p">})(</span><span class="nx">i</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">})</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li><code>Promise.reslove</code></li>
</ul>
<p><a href="https://juejin.cn/post/6844903625609707534">https://juejin.cn/post/6844903625609707534</a></p>
<p>该方法返回一个以 value 值解析后的 Promise 对象 </p>
<ol>
<li>如果这个值是个 thenable（即带有 then 方法），返回的 Promise 对象会“跟随”这个 thenable 的对象，采用它的最终状态（指 resolved/rejected/pending/settled）</li>
<li>如果传入的 value 本身就是 Promise 对象，则该对象作为 Promise.resolve 方法的返回值返回。</li>
<li>其他情况以该值为成功状态返回一个 Promise 对象。</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="c1">//如果传入的 value 本身就是 Promise 对象，则该对象作为 Promise.resolve 方法的返回值返回。  </span>
<span class="kd">function</span><span class="w"> </span><span class="nx">fn</span><span class="p">(</span><span class="nx">resolve</span><span class="p">){</span>
<span class="w">    </span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
<span class="w">        </span><span class="nx">resolve</span><span class="p">(</span><span class="mf">123</span><span class="p">);</span>
<span class="w">    </span><span class="p">},</span><span class="mf">3000</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">p0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">(</span><span class="nx">fn</span><span class="p">);</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">p0</span><span class="p">);</span>
<span class="c1">// 返回为true，返回的 Promise 即是 入参的 Promise 对象。</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">p0</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">p1</span><span class="p">);</span>
</code></pre></div>
<ul>
<li><code>Promise.race</code> 会在任何一个 promise 完成（无论是解决还是拒绝）时完成，</li>
</ul>
<p><code>race</code>只管完成（速度）</p>
<ul>
<li>而 <code>Promise.any</code> 会在任何一个 promise 解决时解决，或者在所有 promise 都拒绝时拒绝。</li>
</ul>
<p><code>any</code>期待解决</p>
<h4 id="async-await">async / await<a class="headerlink" href="#async-await" title="Permanent link">&para;</a></h4>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/async_function"><code>async</code></a> :</p>
<ul>
<li>
<blockquote>
<p>我们可以用 <code>async</code> 关键字将一个函数声明为异步函数。调用异步函数的时候，其会立刻返回并派遣一个异步</p>
<p><a href="https://docs.net9.org/languages/javascript/async/#async-await">https://docs.net9.org/languages/javascript/async/#async-await</a></p>
</blockquote>
</li>
<li>
<p>提供了一种更简单的方法来处理基于异步 Promise 的代码。在一个函数的开头添加 <code>async</code>，就可以使其成为一个异步函数。</p>
</li>
<li>
<p>内部同步，外部异步</p>
</li>
<li>
<p>保留异步执行的情况下，不用考虑异步带来的编程困难，以同步的方式编写函数。缺点是以函数为个体</p>
</li>
<li>
<p>使用<code>try catch</code>进行错误捕获。<em>如果try里某行代码报错后，try中剩余的代码不会执行了</em></p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>async function myFunction() {
  // 这是一个异步函数
}
</code></pre></div>
<p>例如：</p>
<div class="highlight"><pre><span></span><code><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">fetchProducts</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 在这一行之后，我们的函数将等待 `fetch()` 调用完成</span>
<span class="w">    </span><span class="c1">// 调用 `fetch()` 将返回一个“响应”或抛出一个错误</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://mdn.github.io/learning-area/javascript/apis/fetching-data/can-store/products.json&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="sb">`HTTP 请求错误：</span><span class="si">${</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// 在这一行之后，我们的函数将等待 `response.json()` 的调用完成</span>
<span class="w">    </span><span class="c1">// `response.json()` 调用将返回 JSON 对象或抛出一个错误</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">json</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">name</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="sb">`无法获取产品列表：</span><span class="si">${</span><span class="nx">error</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="nx">fetchProducts</span><span class="p">();</span>
</code></pre></div>
<p>在异步函数中，你可以在调用一个返回 Promise 的函数之前使用 <code>await</code> 关键字。</p>
<p>这使得代码在该点上等待，直到 Promise 被完成，</p>
<p>这时 Promise 的响应被当作返回值，或者被拒绝的响应被作为错误抛出。</p>
<p>这使你能够编写像同步代码一样的异步函数</p>
<p>就像一个 Promise 链一样，<code>await</code> 强制异步操作以串联的方式完成。如果下一个操作的结果取决于上一个操作的结果，这是必要的，但如果不是这样，像 <code>Promise.all()</code> 这样的操作会有更好的性能。</p>
<ul>
<li>
<p><code>await</code>: 它阻止 JavaScript 在解决 promise 之前将 <code>fetch</code> 赋值给 response 变量。一旦 promise 被解决，现在可以将 fetch 方法的结果分配给 response 变量。</p>
</li>
<li>
<blockquote>
<p><code>await</code> 关键字后面可以接一个变量，如果这个变量不是 <code>Promise</code> 对象，那么 <code>await</code> 关键字不产生任何效果。</p>
<p>如果是 <code>Promise</code> 对象，那么 <code>await</code> 关键字会阻塞代码运行，直到这个 <code>Promise</code> 对象代表的异步执行完毕。</p>
<p>如果异步成功，这个时候 <code>await</code> 语句的返回值是 <code>Promise</code> 的 <code>resolve</code> 回调接受的参数，无论有没有通过 <code>then</code> 方法指定 <code>resolve</code> 回调。</p>
<p>如果异步失败，首先确定这个 <code>Promise</code> 有没有通过 <code>catch</code> 方法规定 <code>reject</code> 回调。如果有，<code>await</code> 返回 <code>catch</code> 之中回调函数的返回值，如果没有，抛出 Uncaught Failure 错误。</p>
</blockquote>
</li>
</ul>
<h4 id="_19">事件循环<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h4>
<p><img alt="image-20240219195652706" src="image-20240219195652706.png" /></p>
<ul>
<li>调用栈空时，执行任务队列中的代码</li>
</ul>
<p>宏任务微任务</p>
<p>ES6之后引入了 Promise 对象， 让 JS 引擎也可以发起异步任务
异步任务分为：</p>
<ul>
<li>宏任务：由 <strong>浏览器</strong> 环境执行的异步代码</li>
<li>微任务：由 <strong>JS 引擎</strong> 环境执行的异步代码，执行时机是在主函数执行结束之后、当前宏任务结束之前</li>
</ul>
<p>优先调度微任务队列</p>
<p><img alt="image-20240219200315765" src="image-20240219200315765.png" /></p>
<p>例：</p>
<p><img alt="image-20240219200823047" src="image-20240219200823047.png" /></p>
<p>JavaScript内代码如何执行：</p>
<ol>
<li>执行第一个 script 脚本事件宏任务，里面 同步 代码</li>
<li>遇到宏任务 微任务 交给宿主环境，有结果回调函数进入对应队列</li>
<li>当执行栈空闲时，清空微任务队列，再执行下一个宏任务 ，从 1 再来</li>
</ol>
<h3 id="web-api">Web API<a class="headerlink" href="#web-api" title="Permanent link">&para;</a></h3>
<h4 id="api">基础API<a class="headerlink" href="#api" title="Permanent link">&para;</a></h4>
<ul>
<li>修改类</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">box</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.box&#39;</span><span class="p">)</span>

<span class="nx">box</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">//添加</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="s1">&#39;box&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">//删除</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">toggle</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">//替换</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">//查询</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="w">   </span><span class="c1">// class的字符串</span>
</code></pre></div>
<ul>
<li>
<p><code>js
  box.style.width
   可以当左值，也可以当右值
   需要用到驼峰格式
   只能操作内联的style</code></p>
</li>
<li>
<p>自定义属性</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">data-id</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">data-spm</span><span class="o">=</span><span class="s">&quot;不知道&quot;</span><span class="p">&gt;</span>1<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
console.log(对象.dataset.id)
console.log(对象.dataset.spm)
对象.dataset()    //自定义属性的集合
</code></pre></div>
<ul>
<li>
<p>所有特性都可以通过使用以下方法进行访问（<a href="https://zh.javascript.info/dom-attributes-and-properties">https://zh.javascript.info/dom-attributes-and-properties</a>）：</p>
</li>
<li>
<p><code>elem.hasAttribute(name)</code> —— 检查特性是否存在。</p>
</li>
<li><code>elem.getAttribute(name)</code> —— 获取这个特性值。</li>
<li><code>elem.setAttribute(name, value)</code> —— 设置这个特性值。</li>
<li>
<p><code>elem.removeAttribute(name)</code> —— 移除这个特性。</p>
</li>
<li>
<p>定时器-间歇函数</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setInterval</span><span class="p">(</span><span class="nx">函数名</span><span class="err">，</span><span class="nx">时间</span><span class="err">（</span><span class="nx">毫秒</span><span class="err">）</span><span class="p">)</span><span class="w">        </span><span class="c1">//返回定时器的编号</span>
<span class="nx">clearIntterval</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span><span class="w">    </span><span class="c1">//关闭定时器</span>
</code></pre></div>
<ul>
<li>
<p>事件监听</p>
</li>
<li>
<p>元素对象.addEventListener('事件类型'，要执行的函数)</p>
</li>
<li>
<p>解绑：元素对象.removeEventListener(事件类型，事件处理函数，【事件捕获或者冒泡阶段】)</p>
</li>
<li>
<p>事件类型</p>
</li>
<li>
<p>鼠标事件（鼠标触发）     ：click鼠标点击，mouseenter鼠标经过，mouseleave鼠标离开</p>
</li>
<li>焦点事件（表单获得光标）：focus获得焦点，blur失去焦点</li>
<li>键盘事件（键盘触发）   ：keydown键盘按下触发，keyuo键盘抬起触发</li>
<li>
<p>文本事件（表单输入触发）：input用户输入事件</p>
</li>
<li>
<p>事件对象</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1">// 添加</span>
<span class="nx">元素</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
<span class="w">    </span><span class="c1">//event即为事件对象</span>
<span class="p">})</span>

<span class="c1">// 解绑</span>
<span class="nx">元素</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">fn</span><span class="p">)</span>
<span class="c1">// 匿名函数无法解绑</span>
</code></pre></div>
<ul>
<li>事件对象的常用属性：</li>
<li><code>type</code>：获取当前的事件类型</li>
<li><code>cilentX/ cilentY</code>：获取光标相对于浏览器可见窗口左上角的位置</li>
<li><code>offsetX/ offsetY</code>：获取光标相对于当前DOM元素左上角的位置</li>
<li><code>key</code>：用户按下的前盘键的值</li>
<li><code>e.target.tagName</code>真正触发的元素</li>
<li>
<p><code>e.target.classList</code>可以获取事件的DOM对象</p>
</li>
<li>
<p>特殊事件</p>
</li>
<li>
<p><code>DOMContentLoaded</code>：HTML加载完成后触发，添加给<code>document</code></p>
<div class="highlight"><pre><span></span><code><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;DOMContentLoaded&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()=&gt;{})</span>
</code></pre></div>
</li>
<li>
<p><code>load</code>：外部资源（图片、外联CSS和JavaScript）加载完毕触发的事件，可用于所有元素，一般用于<code>windows</code></p>
<div class="highlight"><pre><span></span><code><span class="nx">windows</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;load&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()=&gt;{})</span>
</code></pre></div>
</li>
<li>
<p><code>js
  document.documentElement.scrollTo</code></p>
</li>
</ul>
<p>获取整个HTML对象</p>
<ul>
<li>
<p><code>scrollTop / scrollLeft</code>获取/ 修改整个HTML页面被卷去的距离</p>
</li>
<li>
<p>滚动相关</p>
</li>
<li>
<p><code>window.scrollX</code></p>
</li>
<li><code>window.scrollY</code></li>
<li>
<p><code>window.scrollTo(X, Y)</code></p>
</li>
<li>
<p>函数对象<code>this</code>：指向调用者</p>
</li>
<li>
<p>捕获和冒泡：默认<code>false</code>，冒泡</p>
</li>
<li>
<p>大→小：捕获</p>
</li>
<li>小→大：冒泡</li>
<li>
<p>阻止事件流动传播（冒泡+捕获）：<code>事件对象.stopPropagation()</code></p>
</li>
<li>
<p>鼠标经过事件：</p>
</li>
<li>
<p><code>mouseover</code>和<code>mouseout</code>会有冒泡效果</p>
</li>
<li>
<p><code>mouseenter</code>和<code>mouseleave</code>没有冒泡效果（推荐）</p>
</li>
<li>
<p>点击返回页面顶部</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">backTop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#backTop&#39;</span><span class="p">)</span>
<span class="nx">backTop</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(){</span>
<span class="w">    </span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">scrollTop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span>
<span class="w">    </span><span class="c1">//document.documentElement 用于获取html内容</span>
<span class="p">})</span>
</code></pre></div>
<ul>
<li>
<p>获取宽高：</p>
</li>
<li>
<p>不包含padding/border: <code>clientWidth</code>, <code>clientHeight</code></p>
</li>
<li>
<p>包含padding/border: <code>offsetWidth</code>, <code>offsetHeight</code></p>
</li>
<li>
<p>获取位置：</p>
</li>
<li>
<p>元素距离自己定位父级元素的左、上距离: <code>offestLeft</code>, <code>offsetTop</code></p>
</li>
<li>
<p>获取位置的另一种：</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nx">element</span><span class="p">.</span><span class="nx">getBoundingClientRect</span><span class="p">()</span>
<span class="c1">// 返回元素的大小及其相对于视口的位置（x, y）</span>
</code></pre></div>
<p><img src="./JavaScript/image-20230307140257332.png" width=700px></p>
<ul>
<li>日期对象</li>
</ul>
<p><img src="./JavaScript/image-20230307151030851.png" width=450px /></p>
<ul>
<li>获取时间戳（从1970年到现在的毫秒数）</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">date</span><span class="o">=</span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">()</span>
<span class="nx">date</span><span class="p">.</span><span class="nx">getTime</span><span class="p">()</span>

<span class="o">+</span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">()</span>

<span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">().</span><span class="nx">toLocalString</span><span class="p">()</span>
</code></pre></div>
<ul>
<li>
<p>内容：</p>
</li>
<li>
<p><code>innerText</code>不修改子元素，不考虑隐藏元素</p>
</li>
<li><code>textContent</code>修改子元素，考虑隐藏元素，忽略HTML格式</li>
<li><code>innerHTML</code>以HTML形式解析</li>
</ul>
<h4 id="_20">节点操作<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>查找结点</p>
</li>
<li>
<p>父节点，返回最近一级的父结点，找不到返回NULL：</p>
<div class="highlight"><pre><span></span><code><span class="nx">子元素</span><span class="p">.</span><span class="nx">parentNode</span>
</code></pre></div>
<ul>
<li>
<ol>
<li><strong><code>parentNode</code></strong>: 包括元素节点、文档节点、文档类型节点或者文档片段节点。</li>
</ol>
</li>
<li>
<p><strong><code>parentElement</code></strong>: 父元素必须是一个元素节点。如果父节点不是元素节点（例如，如果父节点是文档节点或文档类型节点），那么 <code>parentElement</code> 会返回 <code>null</code>。</p>
</li>
</ul>
<p>下面是一个例子，说明了这两者之间的差异：</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 获取 html 元素</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">html</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">html</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">);</span><span class="w"> </span><span class="c1">// 输出: #document</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">html</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">);</span><span class="w"> </span><span class="c1">// 输出: null</span>
</code></pre></div>
<p>在这个例子中，html 元素的父节点是文档节点，所以 <code>parentNode</code> 返回文档节点，而 <code>parentElement</code> 返回 <code>null</code>。</p>
</li>
<li>
<p>子节点</p>
<ul>
<li><code>childNodes</code>:获得所有子节点、包括文本节点（空格、换行）、注释节点等</li>
<li><code>children</code>属性: 仅获得所有元素节点，返回一个伪数组</li>
</ul>
</li>
<li>
<p>兄弟节点</p>
<ul>
<li>下一个<code>previousElementSibling</code></li>
<li>上一个<code>nextElementSibling</code></li>
</ul>
</li>
<li>
<p>创建节点</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;标签名&#39;</span><span class="p">)</span>
</code></pre></div>
<ul>
<li>
<p>插入节点</p>
</li>
<li>
<p>插入到这个父元素的最后</p>
<div class="highlight"><pre><span></span><code><span class="nx">父元素</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">要插入的元素</span><span class="p">)</span>
</code></pre></div>
</li>
<li>
<p>插入到父元素的某个子元素之前</p>
<div class="highlight"><pre><span></span><code><span class="nx">父元素</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">要插入的元素</span><span class="err">，</span><span class="nx">在哪个元素前面</span><span class="p">)</span>
</code></pre></div>
</li>
<li>
<p>克隆节点</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nx">元素</span><span class="p">.</span><span class="nx">cloneNode</span><span class="p">(</span><span class="nx">布尔值</span><span class="p">)</span>
<span class="c1">// 布尔值决定是否克隆后代</span>
</code></pre></div>
<ul>
<li>删除结点</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nx">父元素</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">要删除的元素</span><span class="p">)</span>
<span class="nx">元素</span><span class="p">.</span><span class="nx">remove</span><span class="p">()</span><span class="w"> </span><span class="c1">// 删除自身</span>
</code></pre></div>
<h4 id="windows">windows对象<a class="headerlink" href="#windows" title="Permanent link">&para;</a></h4>
<p><img alt="image-20230829105517225" src="image-20230829105517225.png" /></p>
<h5 id="location">location对象<a class="headerlink" href="#location" title="Permanent link">&para;</a></h5>
<p>location 的数据类型是对象，它拆分并保存了 URL 地址的各个组成部分</p>
<p><strong>属性</strong>：</p>
<ul>
<li><code>location.href</code>指定当前页面链接，可读写</li>
<li><code>location.search</code>获取URL参数（<code>?</code>及其后面部分）</li>
<li><code>location.hash</code>获取URL参数（<code>#</code>及其后面部分）</li>
</ul>
<p>方法：</p>
<ul>
<li><code>location.load([true])</code>（ctrl + F5）（强制）刷新</li>
</ul>
<h5 id="navigator">navigator对象<a class="headerlink" href="#navigator" title="Permanent link">&para;</a></h5>
<p>记录了浏览器自身的相关信息</p>
<p>通过 userAgent 检测浏览器的版本及平台:</p>
<div class="highlight"><pre><span></span><code><span class="o">!</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">userAgent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span>
<span class="c1">// 验证是否为Android或iPhone</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">android</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/(Android);?[\s\/]+([\d.]+)?/</span><span class="p">)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">iphone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/(iPhone\sOS)\s([\d_]+)/</span><span class="p">)</span>
<span class="c1">// 如果是Android或iPhone，则跳转至移动站点</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">android</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">iphone</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;http://m.itcast.cn&#39;</span>
<span class="p">}</span>
<span class="p">})()</span>
</code></pre></div>
<h5 id="history">history对象<a class="headerlink" href="#history" title="Permanent link">&para;</a></h5>
<p>对象</p>
<ul>
<li><code>history.back()</code> 后退</li>
<li><code>history.forward()</code>前进</li>
<li><code>history.go(-1)</code>后退</li>
<li><code>history.go(1)</code>前进</li>
</ul>
<h5 id="localstorage">localStorage对象<a class="headerlink" href="#localstorage" title="Permanent link">&para;</a></h5>
<p>手动清除才会消失</p>
<p>以键值对的形式把数据存储在本地，只能存储字符串，不能存储对象</p>
<ul>
<li><code>localStorage.setItem(key, value)</code></li>
<li><code>localStorage.getItem(key)</code></li>
<li><code>localStorage.removeItem('key')</code></li>
</ul>
<p>复杂数据类型存取：</p>
<ul>
<li><code>JSON.stringify(obj)</code>转换为字符串</li>
<li><code>JSON.parse(json)</code>转换为对象</li>
</ul>
<h5 id="sessionstorage">sessionStorage<a class="headerlink" href="#sessionstorage" title="Permanent link">&para;</a></h5>
<ul>
<li>生命周期为关闭浏览器窗口，在同一个窗口下数据可以共享</li>
<li>以键值对形式存放，用法与<code>localStorage</code>基本相同</li>
</ul>
<h3 id="js">JS高阶<a class="headerlink" href="#js" title="Permanent link">&para;</a></h3>
<h4 id="_21">深浅 / 拷贝<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h4>
<ul>
<li>浅拷贝：复制地址</li>
<li>深拷贝：把值复制一份，拷贝值</li>
</ul>
<p>实现：</p>
<ul>
<li>数组：<code>concat</code>，合并两个数组；<code>...</code>运算符</li>
<li>对象：<code>Object.assign(dest, [src1, src2, src3...])</code>；<code>...</code>运算符 但只能深拷贝一层</li>
</ul>
<p>进一步：</p>
<ul>
<li>
<p>递归</p>
</li>
<li>
<p>lodash/cloneDeep库</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">newObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">_</span><span class="p">.</span><span class="nx">cloneDeep</span><span class="p">(</span><span class="nx">old</span><span class="p">);</span>
</code></pre></div>
<ul>
<li>通过 JSON.stringify 实现（无法拷贝函数）</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">o</span><span class="o">=</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">obj</span><span class="p">));</span>
</code></pre></div>
<h4 id="_22">异常处理<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h4>
<ol>
<li>try 试试 catch 拦住 finally 最后</li>
<li>try...catch 用于捕获错误信息</li>
<li>将预估可能发生错误的代码写在 try 代码段中</li>
<li>如果 try 代码段中出现错误后，会执行 catch 代码段，并截获到 错误信息</li>
<li>finally 不管是否有错误，都会执行</li>
<li><code>throw</code>会终止程序</li>
<li><code>throw new Error("出错了！")</code></li>
<li><code>throw "出错了"</code></li>
</ol>
<h4 id="this_1">this指向<a class="headerlink" href="#this_1" title="Permanent link">&para;</a></h4>
<p><img alt="image-20230831220810615" src="image-20230831220810615.png" /></p>
<p>JavaScript
中还允许指定函数中 this 的指向，有 3 个方法可以动态指定普通函数中 this 的 指向</p>
<ul>
<li>
<p>call()</p>
</li>
<li>
<p>apply()</p>
</li>
<li>
<p>bind()</p>
</li>
<li>
<p>call()</p>
</li>
</ul>
<p>call 方法调用函数，同时 指定被调用函数 中 this 的值</p>
<p>语法：</p>
<div class="highlight"><pre><span></span><code><span class="nx">fun</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">thisArg</span><span class="p">,</span><span class="w"> </span><span class="nx">arg1</span><span class="p">,</span><span class="w"> </span><span class="nx">arg2</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span>
</code></pre></div>
<ul>
<li>fun.call(thisArg, arg1, arg2, ...)</li>
<li>thisArg ：在 fun 函数 运行时指定 的 this 值</li>
<li>arg1 arg2 ：传递 的其他参数</li>
<li>
<p>返回 值就是函数的返回值，因为它就是调用 函数</p>
</li>
<li>
<p>apply 方法调用函数，同时 指定被调用函数 中 this 的 值</p>
</li>
</ul>
<p>语法：</p>
<div class="highlight"><pre><span></span><code><span class="nx">fun</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">thisArg</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nx">argsArray</span><span class="p">])</span>
</code></pre></div>
<ul>
<li>thisArg ：在 fun 函数运行时指定的 this 值</li>
<li>argsArray ：传递的值，必须包含在 数组 里面</li>
<li>返回 值就是函数的返回值，因为它就是调用 函数</li>
<li>
<p>因此 apply 主要跟数组有关系，比如使用 Math.max() 求数组的最大 值</p>
</li>
<li>
<p>bind() 方法不会调用函数。但是能改变函数内部 this 指向
   语法：</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nx">fun</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">thisArg</span><span class="p">,</span><span class="w"> </span><span class="nx">arg1</span><span class="p">,</span><span class="w"> </span><span class="nx">arg2</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span>
</code></pre></div>
<ul>
<li>thisArg ：在 fun 函数运行时指定的 this 值</li>
<li>arg1 arg2 ：传递的其他参数</li>
<li>返回由指定的 this 值和初始化参数改造的 原函数拷贝 （新函数</li>
<li>因此当我们只是想改变 this 指向，并且不想调用这个函数的时候，可以使用 bind 比如改变定时器内部的this 指向</li>
</ul>
<h4 id="_23">防抖&amp;节流<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h4>
<h5 id="_24">防抖<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h5>
<ul>
<li>防抖：如果在 n 秒内又触发了事件，则会重新计算函数执行时间</li>
</ul>
<p>使用场景</p>
<ul>
<li>搜索框输入，设定每次输入完毕 n 秒后发送请求，如果期间还有输入，则重新计算时间</li>
</ul>
<p>实现：</p>
<ul>
<li><code>lodash库</code>：设置函数的最短执行间隔</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nx">box</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mousemove&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="p">.</span><span class="nx">debounce</span><span class="p">(</span><span class="nx">mouseMove</span><span class="p">,</span><span class="w"> </span><span class="mf">500</span><span class="p">))</span>
</code></pre></div>
<p>模拟：</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 无论晃动多少次，只在最后一次触发</span>
<span class="c1">// 只是内层防抖了，外层仍然会高频率执行</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">box</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&quot;.box&quot;</span><span class="p">);</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">fn</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">box</span><span class="p">.</span><span class="nx">innerText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">debounce</span><span class="p">(</span><span class="nx">fn</span><span class="p">,</span><span class="w"> </span><span class="nx">time</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">timer</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">timer</span><span class="p">)</span><span class="w"> </span><span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timer</span><span class="p">);</span>
<span class="w">        </span><span class="nx">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">fn</span><span class="p">();</span>
<span class="w">        </span><span class="p">},</span><span class="w"> </span><span class="nx">time</span><span class="p">);</span>
<span class="w">    </span><span class="p">};</span>
<span class="p">}</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;mousemove&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">debounce</span><span class="p">(</span><span class="nx">fn</span><span class="p">,</span><span class="w"> </span><span class="mf">500</span><span class="p">));</span>
<span class="c1">// 事件触发的效果：执行debounce(fn, 50)()这个函数</span>
</code></pre></div>
<h5 id="_25">节流<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h5>
<p>概念：</p>
<ul>
<li>就是指连续触发事件但是在 n 秒中只执行一次函数。比如可以利用节流实现 1s 之内 只能触发一次鼠标移动 事件</li>
</ul>
<p>使用场景</p>
<ul>
<li>鼠标移动，页面尺寸发生变化，滚动条滚动等开销比较大的情况下</li>
</ul>
<p>实现：</p>
<ul>
<li>使用<code>lodash库</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nx">box</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mousemove&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">_</span><span class="p">.</span><span class="nx">throttle</span><span class="p">(</span><span class="nx">mouseMove</span><span class="p">,</span><span class="w"> </span><span class="mf">500</span><span class="p">))</span>
</code></pre></div>
<ul>
<li>模拟：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">box</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&quot;.box&quot;</span><span class="p">);</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">fn</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">box</span><span class="p">.</span><span class="nx">innerText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">debounce</span><span class="p">(</span><span class="nx">fn</span><span class="p">,</span><span class="w"> </span><span class="nx">time</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">timer</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">timer</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">fn</span><span class="p">();</span>
<span class="w">                </span><span class="nx">timer</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span>
<span class="w">            </span><span class="p">},</span><span class="w"> </span><span class="nx">time</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">};</span>
<span class="p">}</span>
<span class="nx">box</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;mousemove&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">debounce</span><span class="p">(</span><span class="nx">fn</span><span class="p">,</span><span class="w"> </span><span class="mf">500</span><span class="p">));</span>
</code></pre></div>
<h5 id="_26">记录播放位置案例<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h5>
<p>相关KPI：</p>
<ul>
<li><code>ontimeupdate</code> 事件 在视频 音频（ audio/video ）当前的播放位置发送改变时 触发</li>
</ul>
<p>这个函数在音视频播放位置改变时触发，可以给他绑定函数。</p>
<ul>
<li>
<p><code>onloadeddata</code> 事件在当前帧的数据加载完成且还没有足够的数据播放视频 音频（ audio/video ）的下一帧时 触发</p>
</li>
<li>
<p><code>video.currentTime</code>：视频当前时间，可读可写</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">video</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&quot;video&quot;</span><span class="p">);</span>
<span class="nx">video</span><span class="p">.</span><span class="nx">ontimeupdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s2">&quot;currentTime&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">video</span><span class="p">.</span><span class="nx">currentTime</span><span class="p">);</span>
<span class="p">};</span>
<span class="nx">video</span><span class="p">.</span><span class="nx">onloadeddata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">video</span><span class="p">.</span><span class="nx">currentTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s2">&quot;currentTime&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div>
<h4 id="_27">柯里化<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h4>
<p><a href="https://zh.javascript.info/currying-partials">https://zh.javascript.info/currying-partials</a></p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">,</span><span class="w"> </span><span class="nx">c</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">c</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">curry</span><span class="p">(</span><span class="nx">func</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 递归函数，返回func的柯里化</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">curried</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// func.length: JavaScript 中的函数对象有一个 length 属性。</span>
<span class="w">        </span><span class="c1">// 这个属性提供了一个函数期望接收的参数个数，也就是在函数定义中声明的参数数量</span>

<span class="w">        </span><span class="c1">// 参数已经足够了</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nx">func</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">func</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="nx">args</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// 参数还是不够，再构造一层函数</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(...</span><span class="nx">args2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="nx">curried</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="nx">args</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">args2</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">};</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">([</span><span class="nx">sum</span><span class="p">]);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">curry</span><span class="p">(</span><span class="nx">sum</span><span class="p">)(</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">)(</span><span class="mf">3</span><span class="p">))</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">sumOne</span><span class="o">=</span><span class="w"> </span><span class="nx">curry</span><span class="p">(</span><span class="nx">sum</span><span class="p">)(</span><span class="mf">1</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sumOne</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">));</span>
</code></pre></div>
<p>柯里化：将 <code>sum(a, b, c)</code> 转换为 <code>sum(a)(b)(c)</code></p>
<p>更高级的柯里化：</p>
<ul>
<li>支持部分调用，可以返回一部分函数</li>
</ul>
<h3 id="_28">杂项<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h3>
<h4 id="json">JSON<a class="headerlink" href="#json" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>方法</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://www.runoob.com/js/javascript-json-parse.html">JSON.parse()</a></td>
<td>用于将一个 JSON 字符串转换为 JavaScript 对象。</td>
</tr>
<tr>
<td><a href="https://www.runoob.com/js/javascript-json-stringify.html">JSON.stringify()</a></td>
<td>用于将 JavaScript 值转换为 JSON 字符串。</td>
</tr>
</tbody>
</table>
<ul>
<li><code>JSON</code>的属性名必须加引号，对象的属性名不需要</li>
</ul>
<h4 id="void">Void<a class="headerlink" href="#void" title="Permanent link">&para;</a></h4>
<p><strong>#</strong> 包含了一个位置信息，默认的锚是**#top** 也就是网页的上端。</p>
<p>而javascript:void(0), 仅仅表示一个死链接。</p>
<p>在页面很长的时候会使用 <strong>#</strong> 来定位页面的具体位置，格式为：<strong># + id</strong>。</p>
<p>如果你要定义一个死链接请使用 javascript:void(0) 。</p>
<h4 id="_29">正则表达式<a class="headerlink" href="#_29" title="Permanent link">&para;</a></h4>
<p>构造：<code>/表达式/修饰符</code></p>
<ul>
<li>
<p><code>js
  let re = /ab+c/;</code></p>
</li>
<li>
<p><code>js
  let re = new RegExp("ab+c");</code></p>
</li>
</ul>
<p>转义字符：<code>\</code></p>
<p>特殊字符：</p>
<p>断言：表示一个匹配在某些条件下发生。断言包含先行断言、后行断言和条件表达式。</p>
<ul>
<li>
<p><code>x*</code> 前一项<code>x</code>出现零次或多次</p>
</li>
<li>
<p><code>^</code> 匹配输入的开始</p>
</li>
<li>
<p><code>$</code>匹配输入的结束</p>
</li>
<li>
<p><code>\b</code> 匹配单词边界</p>
</li>
<li>
<p><code>\B</code> 匹配非单词边界</p>
</li>
<li>
<p>先行断言：<code>x(?=y)</code>  x 被 y 跟随时匹配 x</p>
</li>
<li>
<p>先行否定断言：<code>x(?!y)</code>   x 没有被 y 紧随时匹配 x</p>
</li>
<li>
<p>后行断言：<code>(?&lt;=y)x</code>  x 跟随 y 的情况下匹配 x</p>
</li>
<li>
<p>后行否定断言：<code>(?&lt;!y)x</code>   x 不跟随 y 时匹配 x</p>
</li>
<li>
<p>选择是正则表达式中的一个术语，实际上是一个简单的“或”。</p>
</li>
</ul>
<p>在正则表达式中，它用竖线 <code>|</code> 表示。</p>
<p>例如，我们想要找出编程语言：HTML、PHP、Java 或 JavaScript。</p>
<p>对应的正则表达式为：<code>html|php|java(script)?</code>。</p>
<p>字符类：区分不同类型的字符，例如区分字母和数字。 </p>
<ul>
<li><code>[xyz][a-c]</code>: 匹配包含在方括号中的任何字符。可以使用连字符指定字符范围</li>
<li><code>[^xyz][^a-c]</code>: 一个否定或补充的字符类。也就是说，它匹配未包含在方括号中的任何字符</li>
<li><code>.</code>: 匹配**除行终止符之外的任何单个字符**：<code>\n</code>, <code>\r</code>, <code>\u2028</code> or <code>\u2029</code>. 例如，<code>/.y/</code> 在“yes make my day”中匹配“my”和“ay”，而不是“yes”。 </li>
<li><code>\d</code>: 数字   相当于 <code>[0-9]</code></li>
<li><code>\D</code>: 非数   相当于<code>[^0-9]</code></li>
<li><code>\w</code>:  字母 数字 下划线   相当于 <code>[A-Za-z0-9_]</code></li>
<li><code>\W</code>: 非<code>\w</code></li>
<li><code>\s</code>: 单个空白字符，包括空格、制表符、换页符、换行符和其他 Unicode 空格。相当于 <code>[\f\n\r\t\v\u0020\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]</code></li>
<li><code>\S</code></li>
</ul>
<p>组和范围：表示表达式字符的分组和范围。</p>
<ul>
<li><code>(x)</code>:  **捕获组：**匹配 x 并记住匹配项。例如，/(foo)/匹配并记住“foo bar”中的“foo”</li>
<li><code>(?:x)</code>:  仅分组，不记住 </li>
<li><code>\n</code>:  其中 n 是一个正整数。对正则表达式中与 n 括号匹配的最后一个子字符串的反向引用 (计算左括号)</li>
</ul>
<p>量词：表示匹配的字符或表达式的数量</p>
<ul>
<li><code>x+</code>:  <code>x</code>出现一次或多次</li>
<li><code>x?</code>:  <code>x</code>出现一次或零次</li>
<li><code>x{n}</code>:  <code>x</code>出现n次</li>
<li><code>x{n,}</code>:  <code>x</code>至少出现n次</li>
<li><code>x{n,m}</code>:  <code>x</code>出现n~m次</li>
</ul>
<blockquote>
<p>默认情况下，像 <code>*</code>和 <code>+</code>这样的量词是“贪婪的”，这意味着它们试图匹配尽可能多的字符串。?量词后面的字符使量词“非贪婪”：意思是它一旦找到匹配就会停止。例如，给定一个字符串“some <foo> <bar> new </bar> </foo> thing”:</p>
<ul>
<li><code>/&lt;.*&gt;/</code> will match "<foo> <bar> new </bar> </foo>"</li>
<li><code>/&lt;.*?&gt;/</code> will match "<foo>"</li>
</ul>
</blockquote>
<p>修饰符：</p>
<ul>
<li>i    使用此修饰符后，搜索时不区分大小写：<code>A</code> 和 <code>a</code> 之间没有区别（请参见下面的示例）。</li>
<li>g    使用此修饰符后，搜索时会寻找所有的匹配项 —— 没有它，则仅返回第一个匹配项。</li>
<li>m   多行模式（详见 <a href="https://zh.javascript.info/regexp-multiline-mode">锚点 ^ $ 的多行模式，修饰符 "m"</a>）。</li>
<li>s   启用 “dotall” 模式，允许点 <code>.</code> 匹配换行符 <code>\n</code>（在 <a href="https://zh.javascript.info/regexp-character-classes">字符类</a> 中有详细介绍）。</li>
<li>u   开启完整的 Unicode 支持。该修饰符能够正确处理代理对。详见 <a href="https://zh.javascript.info/regexp-unicode">Unicode：修饰符 "u" 和类 \p{...}</a>。</li>
<li>y   粘滞模式，在文本中的确切位置搜索（详见 <a href="https://zh.javascript.info/regexp-sticky">粘性修饰符 "y"，在位置处搜索</a>）</li>
</ul>
<p>方法：</p>
<ul>
<li>
<p>搜索：<code>str.match(regexp)</code> 方法在字符串 <code>str</code> 中寻找 <code>regexp</code> 的匹配项。</p>
</li>
<li>
<p>搜索不到时返回<code>null</code></p>
</li>
<li>
<p>搜索全部还是贪婪，取决于参数</p>
</li>
<li>
<p>替换：<code>str.replace(str|regexp, str|func)</code> 方法使用 <code>replacement</code> 替换在字符串 <code>str</code> 中找到的 <code>regexp</code> 的匹配项： </p>
</li>
</ul>
<p>（如果带有修饰符 <code>g</code> 则替换所有匹配项，否则只替换第一个）。</p>
<p>第二个参数是字符串 <code>replacement</code>。我们可以在其中使用特殊的字符组合来对匹配项进行插入：</p>
<table>
<thead>
<tr>
<th style="text-align: left;">符号</th>
<th style="text-align: left;">在替换字符串中的行为</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>$&amp;</code></td>
<td style="text-align: left;">插入整个匹配项</td>
</tr>
<tr>
<td style="text-align: left;"><code>$</code></td>
<td style="text-align: left;">插入字符串中匹配项之前的字符串部分</td>
</tr>
<tr>
<td style="text-align: left;"><code>$'</code></td>
<td style="text-align: left;">插入字符串中匹配项之后的字符串部分</td>
</tr>
<tr>
<td style="text-align: left;"><code>$n</code></td>
<td style="text-align: left;">如果 <code>n</code> 是一个 1-2 位的数字，则插入第 n 个分组的内容，详见 <a href="https://zh.javascript.info/regexp-groups">捕获组</a></td>
</tr>
<tr>
<td style="text-align: left;"><code>$&lt;name&gt;</code></td>
<td style="text-align: left;">插入带有给定 <code>name</code> 的括号内的内容，详见 <a href="https://zh.javascript.info/regexp-groups">捕获组</a></td>
</tr>
<tr>
<td style="text-align: left;"><code>$$</code></td>
<td style="text-align: left;">插入字符 <code>$</code></td>
</tr>
</tbody>
</table>
<ul>
<li>搜索：<code>str.search( /ink/i )</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;A drop of Ink may make a million think&quot;</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="w"> </span><span class="nx">str</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="w"> </span><span class="sr">/ink/i</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// 10（第一个匹配位置）</span>
</code></pre></div>
<ul>
<li>
<p>测试:  <code>regexp.test(str)</code> 方法寻找至少一个匹配项，如果找到了，则返回 <code>true</code>，否则返回 <code>false</code>。</p>
</li>
<li>
<p>检索：<code>regObj.exec(被检测字符串)</code></p>
</li>
</ul>
<p>成功：返回一个匹配信息的数组；失败：返回null\</p>
<ul>
<li>
<p>如果没有修饰符<code>g</code>，则与<code>str.match(reg)</code>相同</p>
</li>
<li>
<p>如果有修饰符<code>g</code>，第一次调用<code>reg.exec(str)</code>会返回第一个匹配项，</p>
<ul>
<li>
<p>并将紧随其后的位置保存在属性 <code>regexp.lastIndex</code> 中。</p>
</li>
<li>
<p>下一次这样的调用会从位置 <code>regexp.lastIndex</code> 开始搜索，返回下一个匹配项，并将其后的位置保存在 <code>regexp.lastIndex</code> 中。</p>
</li>
</ul>
</li>
<li></li>
<li></li>
</ul>
<p>例：</p>
<ul>
<li><code>number.replace(/(\d{3})\d{4}(\d{4})/, '\$1****\$2')</code>手机号中间四位置为<code>*</code></li>
<li><code>/([01]\d|2[0-3]):[0-5]\d/g</code>  匹配 <code>hh:mm</code> 这样的时间</li>
</ul>
<h4 id="_30">模块<a class="headerlink" href="#_30" title="Permanent link">&para;</a></h4>
<p>来源：<a href="https://es6.ruanyifeng.com/#docs/module">https://es6.ruanyifeng.com/#docs/module</a></p>
<ul>
<li><code>export</code>:   规定模块的对外接口</li>
<li><code>import</code>:   输入 其他模块提供的功能</li>
</ul>
<h5 id="export">export<a class="headerlink" href="#export" title="Permanent link">&para;</a></h5>
<p>别名</p>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="p">{</span>
<span class="w">  </span><span class="nx">原名1</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">别名1</span><span class="p">,</span>
<span class="w">  </span><span class="nx">原名2</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">别名2</span><span class="p">,</span>
<span class="w">  </span><span class="nx">原名2</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">别名3</span><span class="p">,</span>
<span class="p">}</span>
<span class="c1">// 一个原名可以有多个别名</span>
</code></pre></div>
<p>提供接口而不是值：</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="nx">m</span><span class="p">;</span><span class="w"> </span><span class="c1">// 报错</span>
</code></pre></div>
<p>没有提供对外接口</p>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="nx">m</span><span class="p">};</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="nx">n</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">m</span><span class="p">};</span><span class="w"> </span><span class="c1">// 正确</span>
</code></pre></div>
<p>在接口名与模块内部变量之间，建立了一一对应的关系</p>
<p><strong><code>export</code>输出的接口，与对应的值是动态绑定的关系</strong></p>
<h5 id="import">import<a class="headerlink" href="#import" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="nx">接口名</span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;其他模块&#39;</span>
</code></pre></div>
<p>接口名必须与其他被导入模块的对外接口名相同</p>
<p>接口的值不允许更改，只读</p>
<p>整体加载</p>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">circle</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./circle&#39;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">circle</span><span class="p">.</span><span class="nx">area</span><span class="p">(</span><span class="mf">4</span><span class="p">));</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">circle</span><span class="p">.</span><span class="nx">circumference</span><span class="p">(</span><span class="mf">4</span><span class="p">));</span>
</code></pre></div>
<h5 id="export-default">export default<a class="headerlink" href="#export-default" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">area</span><span class="p">(){}</span>
<span class="c1">// 相当于</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="o">=</span><span class="kd">function</span><span class="w"> </span><span class="nx">area</span><span class="p">(){}</span>

<span class="k">import</span><span class="w"> </span><span class="nx">anyName</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;area&#39;</span><span class="p">;</span>
</code></pre></div>
<ul>
<li>不需要大括号</li>
<li>不用和输出一致</li>
</ul>
<p>正是因为<code>export default</code>命令其实只是输出一个叫做<code>default</code>的变量，所以它后面不能跟变量声明语句。</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 正确</span>
<span class="k">export</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>

<span class="c1">// 正确</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">a</span><span class="p">;</span>

<span class="c1">// 错误</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
</code></pre></div>
<p>上面代码中，<code>export default a</code>的含义是将变量<code>a</code>的值赋给变量<code>default</code>。所以，最后一种写法会报错。</p>
<p>同样地，因为<code>export default</code>命令的本质是将后面的值，赋给<code>default</code>变量，所以可以直接将一个值写在<code>export default</code>之后。</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 正确</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="mf">42</span><span class="p">;</span>

<span class="c1">// 报错</span>
<span class="k">export</span><span class="w"> </span><span class="mf">42</span><span class="p">;</span>
</code></pre></div>
<h5 id="export-import">export 与 import 的复合写法<a class="headerlink" href="#export-import" title="Permanent link">&para;</a></h5>
<p>如果在一个模块之中，先输入后输出同一个模块，<code>import</code>语句可以与<code>export</code>语句写在一起。</p>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">foo</span><span class="p">,</span><span class="w"> </span><span class="nx">bar</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;my_module&#39;</span><span class="p">;</span>

<span class="c1">// 可以简单理解为</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">foo</span><span class="p">,</span><span class="w"> </span><span class="nx">bar</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;my_module&#39;</span><span class="p">;</span>
<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">foo</span><span class="p">,</span><span class="w"> </span><span class="nx">bar</span><span class="w"> </span><span class="p">};</span>
</code></pre></div>
<h4 id="_31">垃圾回收<a class="headerlink" href="#_31" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>引用计数法</p>
</li>
<li>
<p>思想：如果**内存不再使用**，则清除</p>
</li>
<li>实现：看一个对象是否有指向它的引用，没有引用了就回收对象</li>
<li>
<p>弊端：嵌套引用</p>
</li>
<li>
<p>标志清除法</p>
</li>
<li>
<p>思想：将“不再使用的对象”定义为“<strong>无法达到的对象</strong>”</p>
</li>
<li>
<p>实现：就是从根部（在JS中就是全局对象）出发定时扫描内存中的对象。 凡是能从根部到达的对象，都是还需要使用的。</p>
<p>那些无法由根部出发触及到的对象被标记为不再使用，稍后进行回收。</p>
</li>
<li></li>
</ol>
<h4 id="_32">解构赋值<a class="headerlink" href="#_32" title="Permanent link">&para;</a></h4>
<ol>
<li>
<p>数组解构</p>
</li>
<li>
<p>将数组的单元值快速批量赋值给一系列变量的简洁语法</p>
</li>
<li><strong>以位置为准</strong></li>
<li><code>[a, b] = [b, a]</code></li>
<li>可以设置默认值  <code>[a, b, c=1] = [2,3]</code>，当右边为<code>undefined</code>时生效</li>
<li>
<p>按需导入，忽略一些值：<code>[a, , b, c] = [1, 000000, 2, 3]</code></p>
</li>
<li>
<p>对象解构</p>
</li>
<li>
<p>重命名：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;小明&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">age</span><span class="o">:</span><span class="w"> </span><span class="mf">18</span><span class="p">,</span>
<span class="p">};</span>
<span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="nx">uname</span><span class="p">,</span><span class="w"> </span><span class="nx">age</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">user</span><span class="p">;</span>
<span class="nx">uname</span><span class="w"> </span><span class="c1">// 小明</span>
<span class="nx">age</span><span class="w"> </span><span class="c1">// 18</span>
</code></pre></div>
</li>
<li>
<p><strong>以相同的属性名和变量名为准</strong></p>
</li>
</ol>
<h3 id="typescript">TypeScript<a class="headerlink" href="#typescript" title="Permanent link">&para;</a></h3>
<p>字节青训营</p>
<p><img alt="image-20230831183236989" src="image-20230831183236989.png" /></p>
<p><img alt="image-20230831183253211" src="image-20230831183253211.png" /></p>
<p><img alt="image-20230831183303120" src="image-20230831183303120.png" /></p>
<p><img alt="image-20230831183311357" src="image-20230831183311357.png" /></p>
<p><img alt="image-20230831183320826" src="image-20230831183320826.png" /></p>
<p><img alt="image-20230831183328638" src="image-20230831183328638.png" /></p>
<p><img alt="image-20230831183336920" src="image-20230831183336920.png" /></p>
<p><img alt="image-20230831183344145" src="image-20230831183344145.png" /></p>
<p><img alt="image-20230831183352555" src="image-20230831183352555.png" /></p>
<p><img alt="image-20230831183359786" src="image-20230831183359786.png" /></p>
<p><img alt="image-20230831183407122" src="image-20230831183407122.png" /></p>
<p><img alt="image-20230831183415117" src="image-20230831183415117.png" /></p>
<p><img alt="image-20230831183425045" src="image-20230831183425045.png" /></p>
<h3 id="jquery">jQuery<a class="headerlink" href="#jquery" title="Permanent link">&para;</a></h3>
<p>来自：<a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1023022609723552">https://www.liaoxuefeng.com/wiki/1022910821149312/1023022609723552</a></p>
<h4 id="_33">基础语法<a class="headerlink" href="#_33" title="Permanent link">&para;</a></h4>
<p>选择：</p>
<ul>
<li><code>$('选择器')</code></li>
<li>返回对象数组</li>
<li>
<p>使用<code>$('选择器').find('选择器')</code>进行双层查找</p>
</li>
<li>
<p>选择器：使用 <code>$</code> 符号和括号可以选择 <code>HTML</code> 元素，例如：</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">)</span><span class="w"> </span><span class="c1">// 选择整个文档对象</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#myId&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// 选择 id=&quot;myId&quot; 的元素</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.myClass&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// 选择 class=&quot;myClass&quot; 的元素</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;input[type=text]&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// 选择所有 type=&quot;text&quot; 的 input 元素</span>
</code></pre></div>
<ol>
<li>事件：使用 <code>on()</code> 函数来为元素绑定事件处理程序，例如：</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#myButton&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;Button clicked!&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<ol>
<li>操作元素：使用 <code>jQuery</code> 提供的函数可以对 <code>HTML</code> 元素进行操作，例如：</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#myDiv&#39;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s1">&#39;Hello world!&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 修改元素内容</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#myInput&#39;</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="s1">&#39;default value&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 设置 input 元素的默认值</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#myImage&#39;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;newimage.jpg&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 修改元素属性</span>
<span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#myDiv&#39;</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span><span class="w"> </span><span class="c1">// 隐藏元素</span>
</code></pre></div>
<h4 id="dom">操作DOM<a class="headerlink" href="#dom" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>jQuery对象的<code>text()</code>和<code>html()</code>方法分别获取节点的文本和原始HTML文本</p>
</li>
<li>
<p>一个jQuery对象可以包含0个或任意个DOM对象，它的方法实际上会作用在对应的每个DOM节点上。所以jQuery对象的另一个好处是我们可以执行一个操作，作用在对应的一组DOM节点上。即jQuery对象有==“批量操作”==的特点</p>
</li>
<li>
<p>jQuery对象有<code>css('name', 'value')</code>方法，并且所有jQuery对象的方法的返回值都为jQuery对象</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="nx">div</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#test-div&#39;</span><span class="p">);</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;color&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &#39;#000033&#39;, 获取CSS属性</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;color&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#336699&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 设置CSS属性</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;color&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 清除CSS属性</span>
</code></pre></div>
<ul>
<li>修改class：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="nx">div</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#test-div&#39;</span><span class="p">);</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">&#39;highlight&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// false， class是否包含highlight</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;highlight&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 添加highlight这个class</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;highlight&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 删除highlight这个class</span>
</code></pre></div>
<ul>
<li>隐藏和显示DOM</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;a[target=_blank]&#39;</span><span class="p">);</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">hide</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span><span class="w"> </span><span class="c1">// 隐藏, time ms内逐渐消失</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span><span class="w"> </span><span class="c1">// 显示</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">toggle</span><span class="p">()</span><span class="w"> </span><span class="c1">//方法则根据当前状态决定是show()还是hide()</span>

<span class="nx">slideUp</span><span class="p">()</span><span class="nx">和slideDown</span><span class="p">()</span><span class="nx">则是在垂直方向逐渐展开或收缩的</span><span class="p">,</span><span class="nx">slideToggle</span><span class="p">()</span><span class="nx">则根据元素是否可见来决定下一步动作</span>
<span class="nx">fadeIn</span><span class="p">()</span><span class="nx">和fadeOut</span><span class="p">()</span><span class="nx">的动画效果是淡入淡出</span><span class="p">,</span><span class="w"> </span><span class="nx">fadeToggle</span><span class="p">()</span><span class="nx">则根据元素是否可见来决定下一步动作</span>
</code></pre></div>
<ul>
<li><code>attr()</code>和<code>removeAttr()</code>方法用于操作DOM节点的属性：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1">// &lt;div id=&quot;test-div&quot; name=&quot;Test&quot; start=&quot;1&quot;&gt;...&lt;/div&gt;</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">div</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#test-div&#39;</span><span class="p">);</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// undefined, 属性不存在</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &#39;Test&#39;</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hello&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// div的name属性变为&#39;Hello&#39;</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">removeAttr</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// 删除name属性</span>
</code></pre></div>
<ul>
<li><code>attr()</code>和<code>prop()</code>对于属性<code>checked</code>处理有所不同:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="nx">radio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#test-radio&#39;</span><span class="p">);</span>
<span class="nx">radio</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;checked&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// &#39;checked&#39;</span>
<span class="nx">radio</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="s1">&#39;checked&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// true</span>
<span class="nx">radio</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s1">&#39;:checked&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// true</span>
</code></pre></div>
<ul>
<li>对于表单元素，jQuery对象统一提供<code>val()</code>方法获取和设置对应的<code>value</code>属性,一个<code>val()</code>就统一了各种输入框的取值和赋值的问题</li>
</ul>
<h4 id="dom_1">修改DOM结构<a class="headerlink" href="#dom_1" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>使用<code>append()</code>方法为DOM对象添加元素</p>
</li>
<li>
<p>除了接受字符串，<code>append()</code>还可以传入原始的DOM对象，jQuery对象和函数对象：</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#id&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="s1">&#39;阿巴阿巴&#39;</span><span class="p">)</span>

<span class="c1">// 创建DOM对象:</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">ps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">);</span>
<span class="nx">ps</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&lt;span&gt;Pascal&lt;/span&gt;&#39;</span><span class="p">;</span>
<span class="nx">更改元素内部文本</span><span class="w"> </span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;文本内容&quot;</span><span class="p">)</span>
<span class="nx">替换元素内部内容</span><span class="w"> </span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s2">&quot;&lt;标签&gt;内容&lt;标签/&gt;&quot;</span><span class="p">)</span>
<span class="c1">// 添加DOM对象:</span>
<span class="nx">ul</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">ps</span><span class="p">);</span>

<span class="c1">// 添加jQuery对象:</span>
<span class="nx">ul</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#scheme&#39;</span><span class="p">));</span>

<span class="c1">// 添加函数对象:</span>
<span class="nx">ul</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">index</span><span class="p">,</span><span class="w"> </span><span class="nx">html</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;&lt;li&gt;&lt;span&gt;Language - &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;&lt;/span&gt;&lt;/li&gt;&#39;</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
<ul>
<li>
<p><code>append()</code>把DOM添加到最后，<code>prepend()</code>则把DOM添加到最前。</p>
</li>
<li>
<p>同级节点可以用<code>after()</code>或者<code>before()</code>方法。</p>
</li>
</ul>
<h4 id="_34">事件<a class="headerlink" href="#_34" title="Permanent link">&para;</a></h4>
<ul>
<li><code>on</code>方法用来绑定一个事件，我们需要传入事件名称和对应的处理函数。</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#test-link&#39;</span><span class="p">);</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;Hello!&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<ul>
<li>另一种更简化的写法是直接调用<code>click()</code>方法：</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nx">a</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;Hello!&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<ul>
<li>一个已被绑定的事件可以解除绑定，通过<code>off('click', function)</code>实现：</li>
</ul>
<p>为了实现移除效果，可以使用<code>off('click')</code>一次性移除已绑定的<code>click</code>事件的所有处理函数。</p>
<p>同理，无参数调用<code>off()</code>一次性移除已绑定的所有类型的事件处理函数。</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 绑定事件:</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;hello!&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// 解除绑定:</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;hello!&#39;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<h4 id="_35">动画<a class="headerlink" href="#_35" title="Permanent link">&para;</a></h4>
<p>基本</p>
<ul>
<li>hide(), show(), toggle()</li>
<li>slideUp(), slideDown(), slideToggle()</li>
<li>fadeIn(), fadeOut(), fadeToggle()</li>
</ul>
<p>自定义动画</p>
<ul>
<li>animate ( DOM元素最终的状态，时间，[动画结束时被调用的函数] )</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="nx">div</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#test-animate&#39;</span><span class="p">);</span>
<span class="nx">div</span><span class="p">.</span><span class="nx">animate</span><span class="p">({</span>
<span class="w">    </span><span class="nx">opacity</span><span class="o">:</span><span class="w"> </span><span class="mf">0.25</span><span class="p">,</span>
<span class="w">    </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;256px&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">height</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;256px&#39;</span>
<span class="p">},</span><span class="w"> </span><span class="mf">3000</span><span class="p">);</span><span class="w"> </span><span class="c1">// 在3秒钟内CSS过渡到设定值</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 - present Asxjdb
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "header.autohide", "navigation.tracking", "navigation.top", "search.highlight", "search.share", "search.suggest", "content.code.annotate"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../assets/javascripts/bundle.081f42fc.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>